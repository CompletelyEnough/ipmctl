<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Intel Confidential">
<title>Intel&#174; Optane&#8482; DC Persistent Memory Software Specification for UEFI*: Revision 1.17</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book">
<div id="header">
<h1><strong>Intel&#174; Optane&#8482; DC Persistent Memory Software Specification for UEFI*</strong>: Revision 1.17</h1>
<div class="details">
<span id="author" class="author">Intel Confidential</span><br>
<span id="revdate">Reference Number 598513</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_preface">Preface</a>
<ul class="sectlevel2">
<li><a href="#_legal">Legal</a></li>
<li><a href="#_revision_history"><strong class="underline">Revision History</strong></a>
<ul class="sectlevel3">
<li><a href="#_1_17">1.17</a></li>
<li><a href="#_1_16">1.16</a></li>
<li><a href="#_1_15">1.15</a></li>
<li><a href="#_1_14">1.14</a></li>
<li><a href="#_1_13">1.13</a></li>
<li><a href="#_1_12">1.12</a></li>
</ul>
</li>
<li><a href="#_supporting_documents">Supporting Documents</a></li>
</ul>
</li>
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_document_formatting">1.1. Document Formatting</a></li>
<li><a href="#_launching_the_cli">1.2. Launching the CLI</a></li>
<li><a href="#_command_syntax">1.3. Command Syntax</a></li>
<li><a href="#_dimm_identification">1.4. DIMM Identification</a></li>
<li><a href="#_capacities">1.5. Capacities</a></li>
<li><a href="#_dcpmm_long_operations_device_busy">1.6. DCPMM Long Operations (DEVICE BUSY)</a></li>
<li><a href="#_dcpmms_must_be_present">1.7. DCPMMs Must Be Present</a></li>
<li><a href="#_debug_verbose">1.8. Debug / Verbose</a></li>
</ul>
</li>
<li><a href="#_commands">2. Commands</a>
<ul class="sectlevel2">
<li><a href="#_dimm_discovery">2.1. DIMM Discovery</a>
<ul class="sectlevel3">
<li><a href="#_show_topology">2.1.1. Show Topology</a></li>
<li><a href="#_show_socket">2.1.2. Show Socket</a></li>
<li><a href="#_show_device">2.1.3. Show Device</a></li>
<li><a href="#_show_memory_resources">2.1.4. Show Memory Resources</a></li>
<li><a href="#_show_system_capabilities">2.1.5. Show System Capabilities</a></li>
</ul>
</li>
<li><a href="#_provisioning">2.2. Provisioning</a>
<ul class="sectlevel3">
<li><a href="#_create_memory_allocation_goal">2.2.1. Create Memory Allocation Goal</a></li>
<li><a href="#_show_memory_allocation_goal">2.2.2. Show Memory Allocation Goal</a></li>
<li><a href="#_dump_memory_allocation_settings">2.2.3. Dump Memory Allocation Settings</a></li>
<li><a href="#_load_memory_allocation_goal">2.2.4. Load Memory Allocation Goal</a></li>
<li><a href="#_delete_memory_allocation_goal">2.2.5. Delete Memory Allocation Goal</a></li>
</ul>
</li>
<li><a href="#_security">2.3. Security</a>
<ul class="sectlevel3">
<li><a href="#_enable_device_security">2.3.1. Enable Device Security</a></li>
<li><a href="#_change_device_passphrase">2.3.2. Change Device Passphrase</a></li>
<li><a href="#_change_device_security">2.3.3. Change Device Security</a></li>
<li><a href="#_erase_device_data">2.3.4. Erase Device Data</a></li>
</ul>
</li>
<li><a href="#_instrumentation">2.4. Instrumentation</a>
<ul class="sectlevel3">
<li><a href="#_show_sensor">2.4.1. Show Sensor</a></li>
<li><a href="#_change_sensor_settings">2.4.2. Change Sensor Settings</a></li>
</ul>
</li>
<li><a href="#_persistent_memory_provisioning">2.5. Persistent Memory Provisioning</a>
<ul class="sectlevel3">
<li><a href="#_show_persistent_memory">2.5.1. Show Persistent Memory</a></li>
<li><a href="#_show_namespace">2.5.2. Show Namespace</a></li>
<li><a href="#_create_namespace">2.5.3. Create Namespace</a></li>
<li><a href="#_modify_namespace">2.5.4. Modify Namespace</a></li>
<li><a href="#_delete_namespace">2.5.5. Delete Namespace</a></li>
</ul>
</li>
<li><a href="#_support_and_maintenance">2.6. Support and Maintenance</a>
<ul class="sectlevel3">
<li><a href="#_help">2.6.1. Help</a></li>
<li><a href="#_version">2.6.2. Version</a></li>
<li><a href="#_show_device_firmware">2.6.3. Show Device Firmware</a></li>
<li><a href="#_update_firmware">2.6.4. Update Firmware</a></li>
<li><a href="#_show_preferences">2.6.5. Show Preferences</a></li>
<li><a href="#_change_preferences">2.6.6. Change Preferences</a></li>
</ul>
</li>
<li><a href="#_debug">2.7. Debug</a>
<ul class="sectlevel3">
<li><a href="#_run_diagnostic">2.7.1. Run Diagnostic</a></li>
<li><a href="#_show_error_log">2.7.2. Show Error Log</a></li>
<li><a href="#_dump_debug_log">2.7.3. Dump Debug Log</a></li>
<li><a href="#_show_acpi_tables">2.7.4. Show ACPI Tables</a></li>
<li><a href="#_show_device_platform_configuration_data">2.7.5. Show Device Platform Configuration Data</a></li>
<li><a href="#_delete_device_platform_configuration_data">2.7.6. Delete Device Platform Configuration Data</a></li>
<li><a href="#_show_smbios_tables">2.7.7. Show SMBIOS Tables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_preface"><a class="link" href="#_preface">Preface</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_legal"><a class="link" href="#_legal">Legal</a></h3>
<div class="paragraph">
<p>Notice: This document contains information on products in the design phase of
development. The information here is subject to change without notice. Do not
finalize a design with this information.</p>
</div>
<div class="paragraph">
<p>Intel technologies' features and benefits depend on system configuration and may
require enabled hardware, software, or service activation. Learn more at intel.com,
or from the OEM or retailer.</p>
</div>
<div class="paragraph">
<p>No computer system can be absolutely secure. Intel does not assume any liability for
lost or stolen data or systems or any damages resulting from such losses.</p>
</div>
<div class="paragraph">
<p>You may not use or facilitate the use of this document in connection with any
infringement or other legal analysis concerning Intel products described herein. You
agree to grant Intel a non-exclusive, royalty-free license to any patent claim
thereafter drafted which includes subject matter disclosed herein.</p>
</div>
<div class="paragraph">
<p>No license (express or implied, by estoppel or otherwise) to any intellectual property
rights is granted by this document.</p>
</div>
<div class="paragraph">
<p>The products described may contain design defects or errors known as errata which
may cause the product to deviate from published specifications. Current
characterized errata are available on request.</p>
</div>
<div class="paragraph">
<p>This document contains information on products, services and/or processes in
development. All information provided here is subject to change without notice.</p>
</div>
<div class="paragraph">
<p>Contact your Intel representative to obtain the latest Intel product specifications and
roadmaps.</p>
</div>
<div class="paragraph">
<p>Intel disclaims all express and implied warranties, including without limitation, the
implied warranties of merchantability, fitness for a particular purpose, and non
infringement, as well as any warranty arising from course of performance, course of
dealing, or usage in trade.</p>
</div>
<div class="paragraph">
<p>Copies of documents which have an order number and are referenced in this
document may be obtained by calling 1-800-548-4725 or by visiting
www.intel.com/design/literature.htm.</p>
</div>
<div class="paragraph">
<p>Intel, the Intel logo, Intel Optane, and Xeon are trademarks of Intel Corporation in the
U. S. and/or other countries.</p>
</div>
<div class="paragraph">
<p>*Other names and brands may be claimed as the property of others.</p>
</div>
<div class="paragraph">
<p>Copyright &#169; 2019. Intel Corporation. All rights Reserved.</p>
</div>
</div>
<div class="sect2">
<h3 id="_revision_history"><a class="link" href="#_revision_history"><strong class="underline">Revision History</strong></a></h3>
<div class="sect3">
<h4 id="_1_17"><a class="link" href="#_1_17">1.17</a></h4>
<div class="ulist">
<ul>
<li>
<p>Added notes to delete-pcd, load-goal and create-goal commands</p>
</li>
<li>
<p>Fixed some errors in text</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_1_16"><a class="link" href="#_1_16">1.16</a></h4>
<div class="ulist">
<ul>
<li>
<p>Added clarifying note to State field of command <a href="#_run_diagnostic">Run Diagnostic</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_1_15"><a class="link" href="#_1_15">1.15</a></h4>
<div class="ulist">
<ul>
<li>
<p>Added clarifying text to Show Namespaces for HealthStates.</p>
</li>
<li>
<p>Added clarifying text to Show Device for HealthStates.</p>
</li>
<li>
<p>Corrected text in Create Goal to indicate Reserved capacity will be presented as Reserved
in Show Memory Resources.</p>
</li>
<li>
<p>Added note to clarify Create Goal capacity values are a target goal and may be different
from actual applied by platform firwmare.</p>
</li>
<li>
<p>Split Memory Subsytem Provisioning into 2 sections: Provisioning and Security.</p>
</li>
<li>
<p>Added note to clarify Dump Debug Log may collect logs via SMBus for non-functional DCPMM&#8217;s.</p>
</li>
<li>
<p>Create Namespace: A default volume name will not be generated if not explicitly requested.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_1_14"><a class="link" href="#_1_14">1.14</a></h4>
<div class="ulist">
<ul>
<li>
<p>Added section <strong><em>DIMM Identification</em></strong></p>
</li>
<li>
<p>Minor text clarifications</p>
</li>
<li>
<p>Updated Show Memory Resources definitions</p>
</li>
<li>
<p>Added note to Update Firmware indicating TSOD must be disabled for recover operations.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_1_13"><a class="link" href="#_1_13">1.13</a></h4>
<div class="ulist">
<ul>
<li>
<p>Fixed missing section and misc formatting</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_1_12"><a class="link" href="#_1_12">1.12</a></h4>
<div class="ulist">
<ul>
<li>
<p>Added BootStatusRegister to Show Device</p>
</li>
<li>
<p>Added asciidoc support</p>
</li>
<li>
<p>Styling changes, added logo, modified theme, page/version headers</p>
</li>
<li>
<p>Added ControllerRevisionID to show device</p>
</li>
<li>
<p>Added new Playback/Record section</p>
</li>
<li>
<p>Added clarification that long-operations prevent security state changes</p>
</li>
<li>
<p>Changed documented behavior for firmware update: continue on error</p>
</li>
<li>
<p>Updated all commands with dimm target so values are optional; treat as ALL if not specified</p>
</li>
<li>
<p>Added explicit notes to sections to clearly state changes to persistent
memory (goal/namespace/pcd) do not delete/modify user data</p>
</li>
<li>
<p>FIS 1.13 changes</p>
<div class="ulist">
<ul>
<li>
<p>Dump Debug Log: Will attempt to retrieve FW logs from 3 sources</p>
</li>
<li>
<p>Show Device:</p>
<div class="ulist">
<ul>
<li>
<p>LastShutdownStatus now Latched/UnlatchedLastShutdownStatus</p>
</li>
<li>
<p>Added MaxAveragePowerBudget attribute</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_supporting_documents"><a class="link" href="#_supporting_documents">Supporting Documents</a></h3>
<div class="ulist">
<ul>
<li>
<p>Intel&#174; NVM Dimm Management Software-Firmware Interface Specification (554415)</p>
</li>
<li>
<p>Intel&#174; Optane&#8482; DC Persistent Memory Module Firmware Interface Specification (556488)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="link" href="#_introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document covers UEFI command line access utility. The Intel® Optane™ DC
Persistent Memory Module (DCPMM) UEFI Command Line Interface (CLI) is a
manufacturing and validation utility providing access to a subset of the management
features of DCPMMs in the UEFI environment.</p>
</div>
<div class="sect2">
<h3 id="_document_formatting"><a class="link" href="#_document_formatting">1.1. Document Formatting</a></h3>
<div class="paragraph">
<p>Throughout this specification, the syntax of each command is documented in a shaded
text box. Items in [brackets] are optional. For options, targets and properties, each
possible value is separated by a ‘|’ meaning "or" and the default value is italicized.
Items in (parenthesis) indicate a user supplied value.
For example, the following command syntax specifies that the verb "set" is required
followed by an optional option "help". The target –example is required and a value for
ExampleID can optionally be provided. It also specifies an optional property "Test" in
which valid values are "Test1" or "Test2" with Test1 being the default.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl set [-h|-help] –example [(ExampleID)] [Test=(Test1|Test2)]</pre>
</div>
</div>
<div class="sect2">
<h3 id="_launching_the_cli"><a class="link" href="#_launching_the_cli">1.2. Launching the CLI</a></h3>
<div class="paragraph">
<p>The CLI application is launched from the OS/UEFI shell. To run a single command,
supply the command and parameters immediately following the binary name. The
command will run, display the resulting data and return control to the shell. If no
command is provided, the CLI will display the help information as documented in the
Show Help command.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl (command)</pre>
</div>
</div>
<div class="sect2">
<h3 id="_command_syntax"><a class="link" href="#_command_syntax">1.3. Command Syntax</a></h3>
<div class="paragraph">
<p>The command line syntax is case insensitive and is interpreted in English only. It
follows the DMTF SM CLP standard (DSP0214) with the exception of the target portion
of the command. Generally the form of a user request
is:</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl &lt;verb&gt;[&lt;options&gt;][&lt;targets&gt;][&lt;properties&gt;]</pre>
</div>
<div class="paragraph">
<p>A command has a single verb which represents the action to be taken. Following the
verb are zero or more options which modify the action of the verb; overriding the
default behavior with explicitly requested behavior. Options generally have a short and
long form (e.g., -a|-all). Generally one or more targets are required to indicate the
object of the action. However, there are a few cases where a target is not required.
Finally, zero or more properties defined as a key/value pair can be used to modify the
target.
The ordering of the command parts shown above is enforced (e.g., a target cannot
precede an option). However, ordering within the command parts is not enforced (e.g.,
options can be provided in any order, targets can be provided in any order and
properties can be provided in any order). For example, the following command will
generate a syntax error because the option -all comes after the target -system and
therefore the command parts are mis-ordered (verb then target then option).</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -system -all</pre>
</div>
<div class="paragraph">
<p>Whereas, these commands are both valid even though the options are specified in
different order because the command parts are provided in the correct order (verb then
options then target).</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -help -all -system
ipmctl show -all -help -system</pre>
</div>
<div class="paragraph">
<p>If an option or target allows input of more than one value, it is expected as a
comma separated list without whitespace between the values. For example, "-display
value1,value2" instead of "-display value1, value2".</p>
</div>
<div class="paragraph">
<p>Properties follow the syntax [PROPERTIES]=Value.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dimm_identification"><a class="link" href="#_dimm_identification">1.4. DIMM Identification</a></h3>
<div class="paragraph">
<p>Throughout this document, DCPMMs are referenced by one of two unique IDs: DimmHandle &amp;
DimmUID. Either ID may be used for commands that utilize a <em>-dimm</em> target.</p>
</div>
<div class="paragraph">
<p>For example, each of the following are equivalent:</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -d DimmHandle,DimmUID -dimm 8089-a2-1748-00000001
ipmctl show -d DimmHandle,DimmUID -dimm 0x0001
ipmctl show -d DimmHandle,DimmUID -dimm 1
---DimmID=0x0001---
   DimmHandle=0x0001
   DimmUID=8089-a2-1748-00000001</pre>
</div>
<div class="paragraph">
<p>The <em>-dimm</em> target also accepts a comma separated list.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -d DimmHandle,DimmUID -dimm 0x0001,0x1001
ipmctl show -d DimmHandle,DimmUID -dimm 0x0001,8089-a2-1748-00000002
---DimmID=0x0001---
   DimmHandle=0x0001
   DimmUID=8089-a2-1748-00000001
---DimmID=0x1001---
   DimmHandle=0x1001
   DimmUID=8089-a2-1748-00000002</pre>
</div>
<div class="paragraph">
<p>The default DimmID output format can be modified by changing the
CLI_DEFAULT_DIMM_ID property of using the <a href="#_change_preferences">Change Preferences</a>
command. For example, with <em>CLI_DEFAULT_DIMM_ID=UID</em>:</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -d DimmHandle,DimmUID -dimm 0x0001
---DimmID=8089-a2-1748-00000001---
   DimmHandle=0x0001
   DimmUID=8089-a2-1748-00000001</pre>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">DimmHandle</dt>
<dd>
<p>The DCPMM handle is formatted as 0xABCD.</p>
<div class="ulist">
<ul>
<li>
<p>A = Socket</p>
</li>
<li>
<p>B = Memory Controller</p>
</li>
<li>
<p>C = Channel</p>
</li>
<li>
<p>D = Slot</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">DimmUID</dt>
<dd>
<p>The unique identifier of the DCPMM formatted as VVVV-ML-MMYYSNSNSNSN or
VVVV-SNSNSNSN (if the manufacturing information is not available) where:</p>
<div class="ulist">
<ul>
<li>
<p>VVVV = VendorID</p>
</li>
<li>
<p>ML = ManufacturingLocation</p>
</li>
<li>
<p>MMYY = ManufacturingDate</p>
</li>
<li>
<p>SNSNSNSN = SerialNumber</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_capacities"><a class="link" href="#_capacities">1.5. Capacities</a></h3>
<div class="paragraph">
<p>Capacities can be displayed in bytes (B), binary multiples of bytes (MiB, GiB, TiB), or
decimal multiples of bytes (MB, GB, TB) where:
* 1 mebibyte (MiB) = 1024^2 bytes
* 1 gibibyte (GiB) = 1024^3 bytes
* 1 tebibyte (TiB) = 1024^4 bytes
* 1 megabyte (MB) = 1000^2 bytes
* 1 gigabyte (GB) = 1000^3 bytes
* 1 terabyte (TB) = 1000^4 bytes
By default, capacities, except bytes, are displayed to 1/10 precision. Therefore, a
capacity may be displayed as 0.0 if the value is less than 0.1.
The default display of capacities is configurable with the command
<a href="#_change_preferences">Change Preferences</a>. The input and display of capacities in an individual command can
also be overridden by supplying the -units option.
Capacities can be input in either decimal or hexadecimal format with a '0x' prefix.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dcpmm_long_operations_device_busy"><a class="link" href="#_dcpmm_long_operations_device_busy">1.6. DCPMM Long Operations (DEVICE BUSY)</a></h3>
<div class="paragraph">
<p>DCPMMs may be busy while processing some operations. These are defined as ‘Long
Operations’ in the Firmware Interface Specification (FIS). While a long operation is in
progress, some requests may be rejected as indicated by ‘DEVICE BUSY’ status.
Commands may be retried and are expected to succeed when the long operation is
complete.
Show Device may be used to determine if ARS (ARSStatus) or Overwrite DIMM
(OverwriteStatus) long operations are in progress.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dcpmms_must_be_present"><a class="link" href="#_dcpmms_must_be_present">1.7. DCPMMs Must Be Present</a></h3>
<div class="paragraph">
<p>If DCPMMs are not present then the driver will not load and related functionality via the
driver protocol and CLI will be unavailable.</p>
</div>
</div>
<div class="sect2">
<h3 id="_debug_verbose"><a class="link" href="#_debug_verbose">1.8. Debug / Verbose</a></h3>
<div class="paragraph">
<p>The CLI provides the capability to view debug messages when executing a
command by specifying the verbose mode output option. This is intended to aid diagnosing
a problem with the CLI itself and may be useful when submitting a defect.</p>
</div>
<div class="paragraph">
<p>Changes the output format to XML and view debug message for the command.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -verbose -dimm</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_commands"><a class="link" href="#_commands">2. Commands</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_dimm_discovery"><a class="link" href="#_dimm_discovery">2.1. DIMM Discovery</a></h3>
<div class="paragraph">
<p><strong>DIMM Identifiers</strong>
The default DCPMM identifier "DimmID" is equivalent to DimmHandle as described in
the command <a href="#_show_device">Show Device</a>. This may be changed to DimmUID using
the command <a href="#_change_preferences">Change Preferences</a>. In all commands accepting the -dimm
target as input, either the DimmHandle or the DimmUID may be used to identify
a DCPMM.</p>
</div>
<div class="paragraph">
<p><strong>DIMM Manageability</strong>
Beyond discovery, most DCPMM operations require the ability of host software to
manage the DCPMM. Manageability is determined by the interface format code, the
vendor identifier, device identifier and the firmware API version and can be retrieved
with the command Section <a href="#_show_device">Show Device</a>.</p>
</div>
<div class="paragraph">
<p><strong>DIMM Compatibility</strong>
If the host software detects that the system is populated with DCPMMs with
incompatible SKUs or the DCPMMs are configured in violation of their license, it will
indicate such and operate in read-only mode. In this case, the host software will not
allow changes to the DCPMMs and their associated capacity.</p>
</div>
<div class="paragraph">
<p><strong>Limitations</strong>
If there are no DCPMMs present, then associated UEFI driver is not loaded, and none of
the commands (except version) are available.</p>
</div>
<div class="sect3">
<h4 id="_show_topology"><a class="link" href="#_show_topology">2.1.1. Show Topology</a></h4>
<div class="sect4">
<h5 id="_name"><a class="link" href="#_name">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-topology - Shows the topology of the memory installed</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis"><a class="link" href="#_synopsis">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -topology [TARGETS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description"><a class="link" href="#_description">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows the topology of the memory installed in the host server. Use the command
ipmctl-show-device to view more detailed information about a DCPMM.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options"><a class="link" href="#_options">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-a</dt>
<dt class="hdlist1">-all</dt>
<dd>
<p>Shows all attributes.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-d (attributes)</dt>
<dt class="hdlist1">-display (attributes)</dt>
<dd>
<p>Filters the returned attributes by explicitly specifying a comma-separated
list of any of the attributes defined in the Return Data section.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets"><a class="link" href="#_targets">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm [(DimmIDs)]</dt>
<dd>
<p>Restricts output to specific DIMMs by optionally supplying the DIMM target and one or
more comma-separated DIMM identifiers. The default is to display all DIMMs.</p>
</dd>
<dt class="hdlist1">-socket (SocketIDs)</dt>
<dd>
<p>Restricts output to the DIMMs installed on specific sockets by supplying the
socket target and one or more comma-separated socket identifiers. The default
is to display all sockets.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If ACPI PMTT table is not present, then DDR4 memory will not be
displayed in the filtered socket list.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_examples"><a class="link" href="#_examples">EXAMPLES</a></h5>
<div class="paragraph">
<p>Displays the system memory topology.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -topology</pre>
</div>
</div>
<div class="sect4">
<h5 id="_return_data"><a class="link" href="#_return_data">RETURN DATA</a></h5>
<div class="paragraph">
<p>Displays a table with the attributes listed below for each memory DIMM installed
in the host server.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">MemoryType</dt>
<dd>
<p>(Default) The DIMM type. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown</p>
</li>
<li>
<p>DDR4</p>
</li>
<li>
<p>Logical Non-volatile Device</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Capacity</dt>
<dd>
<p>(Default) The raw capacity of the DIMM as reported in the SMBIOS Type 17
table.</p>
</dd>
<dt class="hdlist1">DimmID</dt>
<dd>
<p>(Default) The DIMM identifier. For DRAM DIMMs, the DimmID is "N/A".</p>
</dd>
<dt class="hdlist1">PhysicalID</dt>
<dd>
<p>(Default) The DIMM physical identifier (i.e., SMBIOS Type 17 handle).</p>
</dd>
<dt class="hdlist1">DeviceLocator</dt>
<dd>
<p>(Default) The string that identifies the physically-labeled socket or board
position where the DIMM is located.</p>
</dd>
<dt class="hdlist1">SocketID</dt>
<dd>
<p>The processor socket identifier (i.e., NUMA node) where the DIMM is installed.
For DRAM DIMMs, the socket identifier is "N/A".</p>
</dd>
<dt class="hdlist1">MemControllerID</dt>
<dd>
<p>The associated memory controller identifier. For DRAM DIMMs, the memory
controller identifier is "N/A".</p>
</dd>
<dt class="hdlist1">ChannelID</dt>
<dd>
<p>The associated channel. For DRAM DIMMs, the channel identifier is "N/A".</p>
</dd>
<dt class="hdlist1">ChannelPos</dt>
<dd>
<p>The DIMM position in the channel. For DRAM DIMMs, the channel position
identifier is "N/A".</p>
</dd>
<dt class="hdlist1">NodeControllerID</dt>
<dd>
<p>The node controller identifier. For DRAM DIMMs, the node controller identifier
is "N/A".</p>
</dd>
<dt class="hdlist1">BankLabel</dt>
<dd>
<p>The string that identifies the physically-labeled bank where the DIMM is
located.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_socket"><a class="link" href="#_show_socket">2.1.2. Show Socket</a></h4>
<div class="sect4">
<h5 id="_name_2"><a class="link" href="#_name_2">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-socket - Shows basic information about the physical processors</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_2"><a class="link" href="#_synopsis_2">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -socket [TARGETS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_2"><a class="link" href="#_description_2">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows basic information about the physical processors in the host server.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_2"><a class="link" href="#_options_2">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-a</dt>
<dt class="hdlist1">-all</dt>
<dd>
<p>Shows all attributes.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-d (attributes)</dt>
<dt class="hdlist1">-display (attributes)</dt>
<dd>
<p>Filters the returned attributes by explicitly specifying a comma-separated
list of any of the attributes defined in the Return Data section.</p>
</dd>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_2"><a class="link" href="#_targets_2">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-socket (SocketIDs)</dt>
<dd>
<p>Restricts output to the DIMMs installed on specific sockets by supplying the
socket target and one or more comma-separated socket identifiers. The default
is to display all sockets.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_2"><a class="link" href="#_examples_2">EXAMPLES</a></h5>
<div class="paragraph">
<p>Displays information about all the processors.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -socket</pre>
</div>
<div class="paragraph">
<p>Lists all properties for socket 1.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -socket 1</pre>
</div>
<div class="paragraph">
<p>Retrieves specific properties for each processor.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -d MappedMemoryLimit -socket</pre>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_2"><a class="link" href="#_return_data_2">RETURN DATA</a></h5>
<div class="paragraph">
<p>Displays a table with the attributes listed below for each physical processor
installed in the host server.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">SocketID</dt>
<dd>
<p>(Default) The processor socket identifier.</p>
</dd>
<dt class="hdlist1">MappedMemoryLimit</dt>
<dd>
<p>(Default) The maximum amount of memory that is allowed to be mapped into the
system physical address space for this processor based on its SKU.</p>
</dd>
<dt class="hdlist1">TotalMappedMemory</dt>
<dd>
<p>(Default) The total amount of memory that is currently mapped into the system
physical address space for this processor.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_device"><a class="link" href="#_show_device">2.1.3. Show Device</a></h4>
<div class="sect4">
<h5 id="_name_3"><a class="link" href="#_name_3">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-device - Shows information about one or more DCPMMs</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_3"><a class="link" href="#_synopsis_3">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -dimm [TARGETS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_3"><a class="link" href="#_description_3">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows information about one or more DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_3"><a class="link" href="#_options_3">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-a</dt>
<dt class="hdlist1">-all</dt>
<dd>
<p>Shows all attributes.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-d (attributes)</dt>
<dt class="hdlist1">-display (attributes)</dt>
<dd>
<p>Filters the returned attributes by explicitly specifying a comma-separated
list of any of the attributes defined in the Return Data section.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_3"><a class="link" href="#_targets_3">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Restricts output to specific DCPMMs by supplying the DIMM target and one or
more comma-separated DCPMM identifiers. The default is to display all DCPMMs.</p>
</dd>
<dt class="hdlist1">-socket (SocketIDs)</dt>
<dd>
<p>Restricts output to the DCPMMs installed on specific sockets by supplying the
socket target and one or more comma-separated socket identifiers. The default
is to display all sockets.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If ACPI PMTT table is not present, then DDR4 memory will not be displayed
in the filtered socket list.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_examples_3"><a class="link" href="#_examples_3">EXAMPLES</a></h5>
<div class="paragraph">
<p>Lists a few key fields for each DCPMM.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -dimm</pre>
</div>
<div class="paragraph">
<p>Lists all properties for DCPMM 0x0001.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -a -dimm 0x0001</pre>
</div>
<div class="paragraph">
<p>Retrieves specific properties for each DCPMM.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -d HealthState,LockState -dimm</pre>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_3"><a class="link" href="#_return_data_3">RETURN DATA</a></h5>
<div class="paragraph">
<p>The default behavior is to display a table with the default attributes listed
below; applying options changes the output to a more detailed format. Limited
information (noted in the table below) is applicable if the DCPMM is not
manageable by the software as indicated by the "ManageabilityState" property.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Some data is endian-swapped for human readability.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">DimmID</dt>
<dd>
<p>(Default)  The DCPMM identifier.</p>
</dd>
<dt class="hdlist1">Capacity</dt>
<dd>
<p>(Default) The usable capacity of the DCPMM as reported by the
firmware.</p>
</dd>
<dt class="hdlist1">HealthState</dt>
<dd>
<p>(Default) Overall DCPMM health. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Healthy</p>
</li>
<li>
<p>Noncritical: Maintenance is required.</p>
</li>
<li>
<p>Critical: Features or performance are degraded due to failure.</p>
</li>
<li>
<p>Fatal: Data loss has occurred or is imminent. In this case, the
firmware will disable the media and access to user data and operations
that require use of the media will fail.</p>
</li>
<li>
<p>Non-functional: The DCPMM is present but is non-responsive via the DDRT
communication path. It may be possible to communicate with this DCPMM via SMBus
for a subset of commands.</p>
</li>
<li>
<p>Unmanageable: The DCPMM is not supported by this version of
the software</p>
</li>
<li>
<p>Unknown: Unable to determine the DCPMM health state.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">HealthStateReason</dt>
<dd>
<p>Indicates why the DCPMM is in the current Health State.
One or more of:</p>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
<li>
<p>Percentage Remaining less than 1%</p>
</li>
<li>
<p>Package Sparing occurred</p>
</li>
<li>
<p>CAP Self-Test warning</p>
</li>
<li>
<p>Percentage Remaining is 0</p>
</li>
<li>
<p>Die Failure</p>
</li>
<li>
<p>AIT DRAM disabled</p>
</li>
<li>
<p>CAP Self-Test fail</p>
</li>
<li>
<p>Critical internal failure
<br>
Refer to the <em>Intel® Optane™ DC Persistent Memory Firmware
Interface Specification</em>, document number 556488, Section 4.8
SMART and Health.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">InterfaceFormatCode</dt>
<dd>
<p>A comma-delimited list of the JEDEC standard format
interface code(s) for the DCPMM where each code is formatted as: code
(JEDEC Description or "Unknown").</p>
</dd>
<dt class="hdlist1">ManageabilityState</dt>
<dd>
<p>Ability of the DCPMM host software to manage the DCPMM.
Manageability is determined by the interface format code, the vendor
identifier, device identifier and the firmware API version. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Manageable: The DCPMM is manageable by the software.</p>
</li>
<li>
<p>Unmanageable: The DCPMM is not supported by this version of
the software.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">PhysicalID</dt>
<dd>
<p>The DCPMM physical identifier (i.e., SMBIOS Type 17 handle).</p>
</dd>
<dt class="hdlist1">DimmHandle</dt>
<dd>
<p>The DCPMM handle formatted as 0xABCD.</p>
<div class="ulist">
<ul>
<li>
<p>A = Socket</p>
</li>
<li>
<p>B = Memory Controller</p>
</li>
<li>
<p>C = Channel</p>
</li>
<li>
<p>D = Slot</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">DimmUID</dt>
<dd>
<p>The unique identifier of the DCPMM formatted as VVVV-ML-MMYYSNSNSNSN or
VVVV-SNSNSNSN (if the manufacturing information is not available) where:</p>
<div class="ulist">
<ul>
<li>
<p>VVVV = VendorID</p>
</li>
<li>
<p>ML = ManufacturingLocation</p>
</li>
<li>
<p>MMYY = ManufacturingDate</p>
</li>
<li>
<p>SNSNSNSN = SerialNumber</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">SocketID</dt>
<dd>
<p>The processor socket identifier (i.e., NUMA node) where the DCPMM is
installed.</p>
</dd>
<dt class="hdlist1">MemControllerID</dt>
<dd>
<p>The associated memory controller identifier.</p>
</dd>
<dt class="hdlist1">ChannelID</dt>
<dd>
<p>The associated channel.</p>
</dd>
<dt class="hdlist1">ChannelPos</dt>
<dd>
<p>The DCPMM position in the channel.</p>
</dd>
<dt class="hdlist1">MemoryType</dt>
<dd>
<p>The memory type. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown</p>
</li>
<li>
<p>DDR4</p>
</li>
<li>
<p>Logical Non-Volatile Device</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">VendorID</dt>
<dd>
<p>The vendor identifier of the DCPMM.
This value is presented in big endian format.</p>
</dd>
<dt class="hdlist1">DeviceID</dt>
<dd>
<p>The device identifier of the DCPMM.
This value is presented in big endian format.</p>
</dd>
<dt class="hdlist1">RevisionID</dt>
<dd>
<p>The revision identifier of the DCPMM.</p>
</dd>
<dt class="hdlist1">SubsystemVendorID</dt>
<dd>
<p>The vendor identifier of the non-volatile memory subsystem controller.
This value is presented in big endian format.</p>
</dd>
<dt class="hdlist1">SubsystemDeviceID</dt>
<dd>
<p>The device identifier of the non-volatile memory subsystem controller.</p>
</dd>
<dt class="hdlist1">SubsystemRevisionID</dt>
<dd>
<p>The revision identifier of the non-volatile memory subsystem controller
retrieved from NFIT. This field uses a different encoding than
ControllerRevisionID.</p>
</dd>
<dt class="hdlist1">ManufacturingInfoValid</dt>
<dd>
<p>If the manufacturing location and date are valid. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Not valid</p>
</li>
<li>
<p>1: Valid</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ManufacturingLocation</dt>
<dd>
<p>The manufacturing location assigned by the vendor or "N/A" if ManufacturingInfoValid
is 0.</p>
</dd>
<dt class="hdlist1">ManufacturingDate</dt>
<dd>
<p>The manufacturing date assigned by the vendor or "N/A" if ManufacturingInfoValid
is 0.</p>
</dd>
<dt class="hdlist1">SerialNumber</dt>
<dd>
<p>The serial number assigned by the vendor.
This value is presented in big endian format.</p>
</dd>
<dt class="hdlist1">PartNumber</dt>
<dd>
<p>The part number assigned by the vendor</p>
</dd>
<dt class="hdlist1">DeviceLocator</dt>
<dd>
<p>A string describing the physically-labeled socket or board position where the
memory device is located from the SMBIOS Type 17 Memory Device table.</p>
</dd>
<dt class="hdlist1">BankLabel</dt>
<dd>
<p>A string that identifies the physically labeled bank where the memory device
is located from the SMBIOS Type 17 Memory Device table.</p>
</dd>
<dt class="hdlist1">DataWidth</dt>
<dd>
<p>The width in bits used to store user data from the SMBIOS Type 17 Memory
Device table.</p>
</dd>
<dt class="hdlist1">TotalWidth</dt>
<dd>
<p>The width in bits for data and error correction and/or data redundancy from
the SMBIOS Type 17 Memory Device table.</p>
</dd>
<dt class="hdlist1">Speed</dt>
<dd>
<p>The maximum capable speed of the device in megahertz (MHz) from the SMBIOS
Type 17 Memory Device table.</p>
</dd>
<dt class="hdlist1">FormFactor</dt>
<dd>
<p>The DCPMM form factor (i.e., SMBIOS Type 17 Memory Device Form Factor). One
of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown</p>
</li>
<li>
<p>DIMM</p>
</li>
<li>
<p>SODIMM</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">LockState</dt>
<dd>
<p>(Default) The current security state of the persistent memory on the DCPMM.
One of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown - The security state cannot be determined (e.g., when the
DCPMM is not manageable by the software).</p>
</li>
<li>
<p>Disabled - Security is not enabled.</p>
</li>
<li>
<p>Disabled, Frozen - Security is not enabled. A reboot is required
to change the security state.</p>
</li>
<li>
<p>Unlocked - Security is enabled and unlocked.</p>
</li>
<li>
<p>Unlocked, Frozen - Security is enabled and unlocked. A reboot is required
to change the security state.</p>
</li>
<li>
<p>Locked - Security is enabled and locked.</p>
</li>
<li>
<p>Exceeded - The passphrase limit has been reached. A power cycle is
required to change the security state.</p>
</li>
<li>
<p>Not Supported - Security is not supported on the DCPMM.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">FWVersion</dt>
<dd>
<p>(Default) The BCD-formatted revision of the active firmware in the format
PN.RN.SV.bbbb where:</p>
<div class="ulist">
<ul>
<li>
<p>PN = 2-digit product number</p>
</li>
<li>
<p>RN = 2-digit revision number</p>
</li>
<li>
<p>SN = 2-digit security revision number</p>
</li>
<li>
<p>bbbb = 4-digit build version</p>
<div class="literalblock">
<div class="content">
<pre>Value may be N/A if the DCPMM is not manageable by the software.</pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">FWAPIVersion</dt>
<dd>
<p>The firmware supported interface revision in the format aa.bb where:</p>
<div class="ulist">
<ul>
<li>
<p>aa = 2-digit major version</p>
</li>
<li>
<p>bb = 2-digit minor version
<br>
The firmware interface is intended to be backwards compatible. Therefore,
the host software allows management of DCPMMs where this version is less than
or equal to the version stored in the host software. Value may be N/A if the
DCPMM is not manageable by the software.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>The following information is only applicable when the DCPMM is manageable by the
software as indicated by the "ManageabilityState".</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">ManufacturerID</dt>
<dd>
<p>The manufacturer identifier of the DCPMM.
This value is presented in big endian format.</p>
</dd>
<dt class="hdlist1">ControllerRevisionID</dt>
<dd>
<p>The controller stepping and revision ID retrieved from the controller FW. This
field uses a different encoding than SubsystemRevisionID.</p>
</dd>
<dt class="hdlist1">IsNew</dt>
<dd>
<p>Whether or not the DCPMM is incorporated with the rest of the DCPMM in the
system. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Configured</p>
</li>
<li>
<p>1: The DCPMM requires configuration.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">MemoryCapacity</dt>
<dd>
<p>Usable DCPMM Memory Mode capacity.</p>
</dd>
<dt class="hdlist1">AppDirectCapacity</dt>
<dd>
<p>Usable DCPMM App Direct capacity.</p>
</dd>
<dt class="hdlist1">UnconfiguredCapacity</dt>
<dd>
<p>DCPMM capacity that is inaccessible because it is not mapped into the system
physical address space.</p>
</dd>
<dt class="hdlist1">InaccessibleCapacity</dt>
<dd>
<p>DCPMM capacity that is inaccessible due to:</p>
<div class="ulist">
<ul>
<li>
<p>licensing issue</p>
</li>
<li>
<p>platform configuration prevents accessing this capacity. For example,
MemoryCapacity is configured and available on a DCPMM but MemoryMode is not
enabled by BIOS.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ReservedCapacity</dt>
<dd>
<p>DCPMM capacity reserved for proper alignment.</p>
</dd>
<dt class="hdlist1">PeakPowerBudget</dt>
<dd>
<p>If the DCPMM firmware power management policy is enabled, the power budget in
mW used for instantaneous power. Refer to FIS for allowable range and default
value.</p>
</dd>
<dt class="hdlist1">AvgPowerBudget</dt>
<dd>
<p>If the DCPMM firmware power management policy is enabled, the power budget in
mW used for average power. Refer to FIS for allowable range and default value.</p>
</dd>
<dt class="hdlist1">MaxAveragePowerBudget</dt>
<dd>
<p>Maximum average power budget supported by the DCPMM.</p>
</dd>
<dt class="hdlist1">PackageSparingCapable</dt>
<dd>
<p>Whether or not the DCPMM supports package sparing. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: False</p>
</li>
<li>
<p>1: True</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">PackageSparingEnabled</dt>
<dd>
<p>Whether or not the DCPMM package sparing policy is enabled. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Disabled</p>
</li>
<li>
<p>1: Enabled</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">PackageSparesAvailable</dt>
<dd>
<p>The number of spare devices available for package sparing.</p>
</dd>
<dt class="hdlist1">LatchedLastShutdownStatus</dt>
<dd>
<p>The status of the last shutdown of the DCPMM. One or more of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown: The last shutdown status cannot be determined.</p>
</li>
<li>
<p>FW Flush Complete: FW flush completed.</p>
</li>
<li>
<p>PM ADR Command: Power management ADR command received.</p>
</li>
<li>
<p>PM S3: Power management S3 command received.</p>
</li>
<li>
<p>PM S5: Power management S5 command received.</p>
</li>
<li>
<p>DDRT Power Fail Command: DDR power fail command received.</p>
</li>
<li>
<p>PMIC 12V/DDRT 1.2V Power Loss (PLI)</p>
</li>
<li>
<p>PM Warm Reset: Power management warm reset received.</p>
</li>
<li>
<p>Thermal Shutdown: Thermal shutdown triggered.</p>
</li>
<li>
<p>Controller’s FW State Flush Complete: Flush Completed.</p>
</li>
<li>
<p>Viral Interrupt: Viral interrupt received.</p>
</li>
<li>
<p>Surprise Clock Stop: Surprise clock stop received.</p>
</li>
<li>
<p>Write Data Flush Complete: Write data flush completed.</p>
</li>
<li>
<p>PM S4: Power management S4 command received.</p>
</li>
<li>
<p>PM Idle: Power management idle received</p>
</li>
<li>
<p>DDRT Surprise Reset: Surprise reset received</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">UnlatchedLastShutdownStatus</dt>
<dd>
<p>The status of the last shutdown status of the DCPMM. Same fields as the
Latched Last Shutdown Status with the only difference that LLS details
on a dirty shutdown is logged, even if the Latch System Shutdown Status
was not enabled. One or more of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown: The last shutdown status cannot be determined.</p>
</li>
<li>
<p>FW Flush Complete: FW flush completed.</p>
</li>
<li>
<p>PM ADR Command: Power management ADR command received.</p>
</li>
<li>
<p>PM S3: Power management S3 command received.</p>
</li>
<li>
<p>PM S5: Power management S5 command received.</p>
</li>
<li>
<p>DDRT Power Fail Command: DDR power fail command received.</p>
</li>
<li>
<p>PMIC 12V/DDRT 1.2V Power Loss (PLI)</p>
</li>
<li>
<p>PM Warm Reset: Power management warm reset received.</p>
</li>
<li>
<p>Thermal Shutdown: Thermal shutdown triggered.</p>
</li>
<li>
<p>Controller’s FW State Flush Complete: Flush Completed.</p>
</li>
<li>
<p>Viral Interrupt: Viral interrupt received.</p>
</li>
<li>
<p>Surprise Clock Stop: Surprise clock stop received.</p>
</li>
<li>
<p>Write Data Flush Complete: Write data flush completed.</p>
</li>
<li>
<p>PM S4: Power management S4 command received.</p>
</li>
<li>
<p>PM Idle: Power management idle received</p>
</li>
<li>
<p>DDRT Surprise Reset: Surprise reset received</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">LastShutdownTime</dt>
<dd>
<p>The time the system was last shutdown.</p>
</dd>
<dt class="hdlist1">ModesSupported</dt>
<dd>
<p>A list of the modes supported by the DCPMM. Refer to the command
Show System Capabilities to determine the modes supported by the
platform. One or more of:</p>
<div class="ulist">
<ul>
<li>
<p>Memory Mode: DCPMMs act as system memory under the control of the operating
system. In Memory Mode, any DDR in the platform will act as a cache working
in conjunction with the DCPMM.</p>
</li>
<li>
<p>App Direct: DCPMMs and DDR act as independent memory resources under direct
load/store control of the application.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">SecurityCapabilities</dt>
<dd>
<p>The security features supported by the DCPMM. Zero or more of:</p>
<div class="ulist">
<ul>
<li>
<p>Encryption: The DCPMM supports persistent memory encryption by
setting a passphrase.</p>
</li>
<li>
<p>Erase: The DCPMM is erasable.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">MasterPassphraseEnabled</dt>
<dd>
<p>This property indicates if master passphrase is enabled. If it is disabled,
then it cannot be enabled. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Disabled - Cannot be enabled</p>
</li>
<li>
<p>1: Enabled - Master passphrase can be changed. Cannot be disabled.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ConfigurationStatus</dt>
<dd>
<p>The status of the DCPMM memory configuration. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Valid: The configuration is valid.</p>
</li>
<li>
<p>Not Configured: The DCPMM has not been configured.</p>
</li>
<li>
<p>Failed - Bad configuration: The configuration is corrupt.</p>
</li>
<li>
<p>Failed - Broken interleave: This DCPMM is part of an interleave
set that is not complete.</p>
</li>
<li>
<p>Failed - Reverted: The configuration failed and was reverted to the last
known good configuration.</p>
</li>
<li>
<p>Failed - Unsupported: The configuration is not compatible with the
installed BIOS.</p>
</li>
<li>
<p>Unknown: The configuration cannot be determined.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">SKUViolation</dt>
<dd>
<p>The configuration of the DCPMM is unsupported due to a license issue. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: False</p>
</li>
<li>
<p>1: True</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ARSStatus</dt>
<dd>
<p>The address range scrub (ARS) operation status for the DCPMM. The status is a
reflection of the last requested ARS, but not necessarily within the current
platform power cycle. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown - The ARS operation status cannot be determined.</p>
</li>
<li>
<p>Not started - An ARS operation has not started.</p>
</li>
<li>
<p>In progress - An ARS operation is currently in progress.</p>
</li>
<li>
<p>Completed - The last ARS operation has completed.</p>
</li>
<li>
<p>Aborted - The last ARS operation was aborted.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">OverwriteStatus</dt>
<dd>
<p>The overwrite DIMM operation status for the DCPMM. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown - The overwrite DIMM operation status cannot be determined.</p>
</li>
<li>
<p>Not started - An overwrite DIMM operation was not started on the last
boot.</p>
</li>
<li>
<p>In progress - An overwrite DIMM operation is currently in progress.</p>
</li>
<li>
<p>Completed - An overwrite DIMM operation completed and a reboot is
required to use the DCPMM.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ViralPolicy</dt>
<dd>
<p>Whether viral policies are enabled on the DCPMM. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Disabled - This is the default.</p>
</li>
<li>
<p>1: Enabled - The persistent memory on the DCPMM will be put into read-only
mode if the host operating system software detects an uncorrectable error
situation and indicates a viral state in order to prevent the spread of
damage.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ViralState</dt>
<dd>
<p>Whether the DCPMM is currently viral. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Not Viral</p>
</li>
<li>
<p>1: Viral - The viral policies of the DCPMM have switched the
persistent memory to read-only mode due to the host operating system
software detecting an uncorrectable error situation and indicating a viral
state.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">AitDramEnabled</dt>
<dd>
<p>If the DCPMM AIT DRAM is enabled. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Disabled - The device will suffer performance degradation if the AIT
DRAM becomes disabled.</p>
</li>
<li>
<p>1: Enabled</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">BootStatus</dt>
<dd>
<p>The initialization status of the DCPMM as reported by the firmware in the boot
status register. One or more of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown - The boot status register cannot be read.</p>
</li>
<li>
<p>Success - No errors were reported during initialization.
<br>
<strong>The following statuses indicate that the media is not functional and
therefore access to user data and operations that require use of the media
will fail.</strong></p>
</li>
<li>
<p>Media Not Ready - The firmware did not complete media training.</p>
</li>
<li>
<p>Media Error - The firmware detected an error during media training.</p>
</li>
<li>
<p>Media Disabled - The firmware disabled the media due to a critical issue.
<br>
<strong>The following statuses indicate that communication with the firmware is not
functional.</strong></p>
</li>
<li>
<p>FW Assert - The firmware reported an assert during initialization.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">BootStatusRegister</dt>
<dd>
<p>The raw hex value of the DCPMM Boot Status Register of the DCPMM</p>
</dd>
<dt class="hdlist1">ErrorInjectionEnabled</dt>
<dd>
<p>Error injection status.</p>
<div class="ulist">
<ul>
<li>
<p>0: Disabled - This is the default.</p>
</li>
<li>
<p>1: Enabled</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">MediaTemperatureInjectionEnabled</dt>
<dd>
<p>Media temperature injection status.</p>
<div class="ulist">
<ul>
<li>
<p>0: Disabled - This is the default.</p>
</li>
<li>
<p>1: Enabled</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">SoftwareTriggersEnabled</dt>
<dd>
<p>Software trigger status.</p>
<div class="ulist">
<ul>
<li>
<p>0: Disabled - This is the default.</p>
</li>
<li>
<p>1: At least one software trigger enabled.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">SoftwareTriggersEnabledDetail</dt>
<dd>
<p>Comma separated list of software triggers currently enabled. One or more of:</p>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
<li>
<p>Package Sparing</p>
</li>
<li>
<p>Fatal Error</p>
</li>
<li>
<p>Percentage Remaining</p>
</li>
<li>
<p>Dirty Shutdown</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">PoisonErrorInjectionsCounter</dt>
<dd>
<p>This counter is incremented each time the set poison error is successfully
executed.</p>
</dd>
<dt class="hdlist1">PoisonErrorClearCounter</dt>
<dd>
<p>This counter is incremented each time the clear poison error is successfully
executed.</p>
</dd>
<dt class="hdlist1">MediaTemperatureInjectionsCounter</dt>
<dd>
<p>This counter is incremented each time the media temperature is injected.</p>
</dd>
<dt class="hdlist1">SoftwareTriggersCounter</dt>
<dd>
<p>This counter is incremented each time a software trigger is enabled.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_memory_resources"><a class="link" href="#_show_memory_resources">2.1.4. Show Memory Resources</a></h4>
<div class="sect4">
<h5 id="_name_4"><a class="link" href="#_name_4">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-memory-resources - Shows the total DCPMM memory resource allocation</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_4"><a class="link" href="#_synopsis_4">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -memoryresources</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_4"><a class="link" href="#_description_4">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows the total DCPMM memory resource allocation across the host server.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_4"><a class="link" href="#_options_4">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_4"><a class="link" href="#_examples_4">EXAMPLES</a></h5>
<div class="paragraph">
<p>Shows the DCPMM memory resource allocation.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -memoryresources</pre>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_4"><a class="link" href="#_return_data_4">RETURN DATA</a></h5>
<div class="paragraph">
<p>Returns the default attributes listed below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Capacities from unmanageable DCPMMs are not included in the following
aggregated totals.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Capacity</dt>
<dd>
<p>Total system DCPMM capacity.</p>
</dd>
<dt class="hdlist1">MemoryCapacity</dt>
<dd>
<p>Total usable system DCPMM Memory Mode capacity.</p>
</dd>
<dt class="hdlist1">AppDirectCapacity</dt>
<dd>
<p>Total usable system DCPMM App Direct capacity.</p>
</dd>
<dt class="hdlist1">UnconfiguredCapacity</dt>
<dd>
<p>Total system DCPMM capacity that is unusable because it has not been configured.</p>
</dd>
<dt class="hdlist1">ReservedCapacity</dt>
<dd>
<p>Total system DCPMM persistent memory capacity that is reserved. This capacity
is the persistent memory partition capacity (rounded down for alignment)
less any App Direct capacity. Reserved capacity typically results from
a Memory Allocation Goal request that specified the Reserved property. This
capacity is not mapped to system physical address (SPA) space.</p>
</dd>
<dt class="hdlist1">InaccessibleCapacity</dt>
<dd>
<p>Total system DCPMM capacity that is inaccessible due any of:</p>
<div class="ulist">
<ul>
<li>
<p>Platform configuration prevents accessing this capacity. e.g. MemoryCapacity is
configured but MemoryMode is not enabled by platform FW (current Memory Mode is 1LM).</p>
</li>
<li>
<p>Capacity is inaccessible because it is not mapped into the system physical
address space (SPA). This is usually due to platform firmware memory alignment requirements.</p>
</li>
<li>
<p>DCPMM configured capacity but SKU prevents usage. e.g. AppDirectCapcity but
DCPMM SKU is MemoryMode only.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_details"><a class="link" href="#_details">DETAILS</a></h5>
<div class="paragraph">
<p>DCPMMs are partitioned into Memory and Persistent partitions. ipmctl will align
the Memory partition on a 1 GiB boundary with the Persistent partition consuming
the remaining capacity. An exception: if DCPMM is configured for 100% Memory Mode
then Memory partition will consume 100% of the capacity, while Persistent
partition will be 0 length. Any capacity that falls outside the Memory and
Persistent partitions is InaccessibleCapacity and is not useable.</p>
</div>
<div class="paragraph">
<p>Platform firmware alignment restrictions may result in some capacity from the
Memory and Persistent partitions not mapped to system physical address (SPA) space.
This memory is considered InaccessibleCapacity and is not usable.</p>
</div>
<div class="paragraph">
<p>Definitions:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Total Capacity (TC)</dt>
<dd>
<p>Raw Capacity (total usable) reported by DCPMM DIMM Partition Info</p>
</dd>
<dt class="hdlist1">Memory Partition Capacity (MPC)</dt>
<dd>
<p>Volatile Capacity reported by DCPMM DIMM Partition Info</p>
</dd>
<dt class="hdlist1">Persistent Partition Capacity (PPC)</dt>
<dd>
<p>Persistent Capacity reported by DCPMM DIMM Partition Info</p>
</dd>
<dt class="hdlist1">Volatile Memory Size (VMS)</dt>
<dd>
<p>Usable volatile memory capacity as reported by platform FW
via <em>Intel NVDIMM Current Config&#8594;Volatile Memory Size Mapped into SPA</em> field</p>
</dd>
<dt class="hdlist1">Persistent Memory Size (PMS) </dt>
<dd>
<p>Usable persistent memory capacity as reported by platform FW via
<em>Intel NVDIMM Current Config&#8594;Persistent Memory Size Mapped into SPA</em> field</p>
</dd>
<dt class="hdlist1">DCPMM DIMM Partition Info</dt>
<dd>
<p>DIMM Partition Info provided by DCPMM firmware. See <em>Intel&#174; Optane&#8482;
DC Persistent Memory Module Firmware Interface Specification</em> for details.</p>
</dd>
<dt class="hdlist1">Intel NVDIMM Current Config</dt>
<dd>
<p>See <em>Intel&#174; NVM Dimm Management Software-Firmware Interface Specification</em>
for details.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>Calculations:</strong></p>
</div>
<div class="verseblock">
<pre class="content">MemoryCapacity = Volatile Memory Size</pre>
</div>
<div class="verseblock">
<pre class="content">AppDirectCapacity = Persistent Memory Size</pre>
</div>
<div class="verseblock">
<pre class="content">ReservedCapacity = PPC (rounded down for PM alignment) - PMS</pre>
</div>
<div class="verseblock">
<pre class="content">InaccessibleCapacity =
  + (TC - MPC - PPC)
  + (TC - PMS - ReservedCapacity)
 if (CurrentMode == 1LM) then
  + VMS (rounded down for alignment)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_system_capabilities"><a class="link" href="#_show_system_capabilities">2.1.5. Show System Capabilities</a></h4>
<div class="sect4">
<h5 id="_name_5"><a class="link" href="#_name_5">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-system-capabilities - Shows the platform supported DCPMM capabilities</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_5"><a class="link" href="#_synopsis_5">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -system -capabilities</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_5"><a class="link" href="#_description_5">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows the total DCPMM memory resource allocation across the host server.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_5"><a class="link" href="#_options_5">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-a</dt>
<dt class="hdlist1">-all</dt>
<dd>
<p>Shows all attributes.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-d (attributes)</dt>
<dt class="hdlist1">-display (attributes)</dt>
<dd>
<p>Filters the returned attributes by explicitly specifying a comma-separated
list of any of the attributes defined in the Return Data section.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_5"><a class="link" href="#_examples_5">EXAMPLES</a></h5>
<div class="paragraph">
<p>Displays the supported DCPMM capabilities</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -system -capabilities</pre>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_5"><a class="link" href="#_return_data_5">RETURN DATA</a></h5>
<div class="paragraph">
<p>The default behavior is to return the default attributes listed below; the options can be
used to expand or restrict the output.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">PlatformConfigSupported</dt>
<dd>
<p>(Default) Whether the platform level configuration of DCPMMs can be modified
with the host software. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Changes must be made in the BIOS.</p>
</li>
<li>
<p>1: The command <strong><em>Create Memory Allocation Goal</em></strong> is supported.
Alignment (Default) Capacity alignment requirement for all memory types as reported by the BIOS.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">AllowedVolatileMode</dt>
<dd>
<p>(Default) The volatile mode allowed as determined by BIOS setup. One of:</p>
<div class="ulist">
<ul>
<li>
<p>1LM: One-level volatile mode. All memory resources in the platform are
independently accessible, and not captive of the other resources.</p>
</li>
<li>
<p>Memory Mode: DCPMMs act as system memory under the control of the
operating system. In Memory Mode, any DDR in the platform will act as a
cache working in conjunction with the DCPMMs.</p>
</li>
<li>
<p>Unknown: The allowed volatile mode cannot be determined.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">CurrentVolatileMode</dt>
<dd>
<p>(Default) The current volatile mode. One of:</p>
<div class="ulist">
<ul>
<li>
<p>1LM: One-level volatile mode. All memory resources in the platform are
independently accessible, and not captive of the other resources.</p>
</li>
<li>
<p>Memory Mode: DCPMMs act as system memory under the control of the
operating system. In Memory Mode, any DDR in the platform will act as a cache
working in conjunction with the DCPMMs.</p>
</li>
<li>
<p>Unknown: The current volatile mode cannot be determined.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">AllowedAppDirectMode</dt>
<dd>
<p>(Default) The App Direct mode allowed as determined by BIOS setup. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Disabled: App Direct support is currently disabled by the BIOS.</p>
</li>
<li>
<p>App Direct: App Direct support is currently enabled by the BIOS.</p>
</li>
<li>
<p>Unknown: The current App Direct support cannot be determined.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ModesSupported</dt>
<dd>
<p>A list of DCPMM modes supported by the BIOS. Refer to the command
<strong><em>Show Device</em></strong> to determine the modes supported by the individual
DCPMMs. One or more of:</p>
<div class="ulist">
<ul>
<li>
<p>1LM: One-level volatile mode. All memory resources in the platform are
independently accessible, and not captive of the other resources.</p>
</li>
<li>
<p>Memory Mode: DCPMMs act as system memory under the control of the
operating system. In Memory Mode, any DDR in the platform will act as a cache
working in conjunction with the DCPMMs.</p>
</li>
<li>
<p>App Direct: DCPMMs and DDR act as independent memory resources
under direct load/store control of the application.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">SupportedAppDirectSettings</dt>
<dd>
<p>The BIOS supported list of App Direct interleave settings in the format:</p>
<div class="ulist">
<ul>
<li>
<p>x[Way] - [(IMCSize) iMC x (ChannelSize) Channel] followed by the input
format for the command <strong><em>Change Preferences</em></strong>:
(ByOne|(IMCSize)_(ChannelSize)).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">RecommendedAppDirectSettings</dt>
<dd>
<p>The BIOS recommended list of App Direct interleave settings in the format:</p>
<div class="ulist">
<ul>
<li>
<p>x[Way] - [(IMCSize) iMC x (ChannelSize) Channel] followed by the input format for
the command <strong><em>Change Preferences</em></strong>:
(ByOne|(IMCSize)_(ChannelSize)).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">MinNamespaceSize</dt>
<dd>
<p>The minimum allowed namespace size as reported by the driver.</p>
</dd>
<dt class="hdlist1">AppDirectMirrorSupported</dt>
<dd>
<p>If the BIOS supports App Direct mirroring. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported.</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">DimmSpareSupported</dt>
<dd>
<p>If the BIOS supports DCPMM sparing. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">AppDirectMigrationSupported</dt>
<dd>
<p>If the BIOS supports App Direct migration. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">RenameNamespaceSupported</dt>
<dd>
<p>If the host software supports renaming a namespace with the command Section
<a href="#_modify_namespace">Modify Namespace</a>. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">GrowAppDirectNamespaceSupported</dt>
<dd>
<p>If the host software supports increasing the capacity of an App Direct
namespace with the command Section <a href="#_modify_namespace">Modify Namespace</a>. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ShrinkAppDirectNamespaceSupported</dt>
<dd>
<p>If the host software supports decreasing the capacity of an App Direct
namespace with the command Section <a href="#_modify_namespace">Modify Namespace</a>. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">InitiateScrubSupported</dt>
<dd>
<p>If the platform and host software support initiating an address range scrub on the
DCPMMs in the system. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">AdrSupported</dt>
<dd>
<p>Whether the platform supports asynchronous DRAM refresh (ADR). One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported. If ADR is not supported, App Direct data integrity cannot be
assured during system interruptions.</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">EraseDeviceDataSupported</dt>
<dd>
<p>Whether Erase Device Data is supported.</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">EnableDeviceSecuritySupported</dt>
<dd>
<p>Whether Enable Device Security is supported.</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">DisableDeviceSecuritySupported</dt>
<dd>
<p>Whether Change Device Security property Lockstate = Disabled is supported.</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">UnlockDeviceSecuritySupported</dt>
<dd>
<p>Whether Change Device Security property Lockstate = Unlocked is supported.</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">FreezeDeviceSecuritySupported</dt>
<dd>
<p>Whether Change Device Security property Lockstate = Frozen is supported.</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ChangeDevicePassphraseSupported</dt>
<dd>
<p>Whether Change Device Passphrase is supported.</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ChangeMasterPassphraseSupported</dt>
<dd>
<p>Whether Change Master Passphrase is supported.</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">MasterEraseDeviceDataSupported</dt>
<dd>
<p>Whether Master Erase Device Data is supported.</p>
<div class="ulist">
<ul>
<li>
<p>0: Not supported</p>
</li>
<li>
<p>1: Supported</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_provisioning"><a class="link" href="#_provisioning">2.2. Provisioning</a></h3>
<div class="paragraph">
<p>Next generation memory controller and media technologies provide a number of
opportunities to optimize a server&#8217;s memory subsystem for a given workload. Three
such opportunities are supported by the CLI and are covered in this section: memory
tiering, reliability and performance options, and data-at-rest security options.</p>
</div>
<div class="paragraph">
<p>A system with both DRAM and DCPMMs can be configured to use memory tiering. The
CLI supports configuring a "near" performance tier and a "far" capacity tier. In this two
level memory system the near tier acts as a cache for the far tier. When memory tiering
is enabled, DRAM DIMMs are utilized as near memory. The near memory tier utilizes all
available DRAM capacity. The far memory tier is created from DCPMMs. Because the
capacity of a DCPMM is so large (relative to DRAM) it may not be necessary to use all
available DCPMM capacity as far memory (a typical near to far ratio is 1:8). So in
addition to enabling memory tiering, the CLI provides for designating the amount of
DCPMM capacity to be used as far memory. The remaining capacity can be used as App
Direct persistent memory. Changing the tiering configuration on a running system is
generally not supported. The CLI supports the creation of a tiering "goal configuration"
which will take effect after a system reboot. A valid goal migrates into Memory Mode
capacity and one or more persistent memory regions after it is successfully parsed and
activated by BIOS on the next boot. See the command <a href="#_create_memory_allocation_goal">Create Memory Allocation Goal</a>
for more details on configuring the system for memory tiering.</p>
</div>
<div class="paragraph">
<p>Since modifying the memory tiering and persistent memory configuration requires a
reboot to take affect it is possible to have both a current configuration and a pending
"goal" configuration. Once the system is rebooted the goal configuration is applied and
becomes the current configuration. Prior to rebooting it&#8217;s possible to see the goal
configuration using the command Show Memory Allocation Goal. It is also possible to
delete a goal prior to the reboot. See the command Delete Memory Allocation Goal for
more details.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<strong>This command may result in data loss. Data should be backed up
to other storage before executing this command</strong>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Changing a memory allocation goal modifies how the platform firmware maps
persistent memory in the system address space (SPA) which may result in data loss or
inaccessible data, but does not explicitly delete or modify user data
found in persistent memory.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_create_memory_allocation_goal"><a class="link" href="#_create_memory_allocation_goal">2.2.1. Create Memory Allocation Goal</a></h4>
<div class="sect4">
<h5 id="_name_6"><a class="link" href="#_name_6">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-create-goal - Creates a memory allocation goal on one or more DCPMM</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_6"><a class="link" href="#_synopsis_6">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl create [OPTIONS] -goal [TARGETS] [PROPERTIES]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_6"><a class="link" href="#_description_6">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Creates a memory allocation goal on one or more for the BIOS to read on the next
reboot in order to map the DCPMM capacity into the system address space.
Persistent memory can then be utilized by creating a namespace.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The capacity values presented by this command are a target goal or
request to platform firmware. The actual capacity values are subject to
change due to rounding and alignment requirements. If the goal request is
invalid or not possible it may be rejected by platform firmware.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Deleting the PCD can be used as a way to prepare individual DCPMMs for provisioning.
See the delete -pcd command.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<strong>This command may result in data loss. Data should be backed up
to other storage before executing this command</strong>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Changing a memory allocation goal modifies how the platform firmware maps
persistent memory in the system address space (SPA) which may result in data loss or
inaccessible data, but does not explicitly delete or modify user data
found in persistent memory.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_options_6"><a class="link" href="#_options_6">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-f</dt>
<dt class="hdlist1">-force</dt>
<dd>
<p>Reconfiguring DCPMMs is a destructive operation which requires
confirmation from the user. This option suppresses the confirmation.</p>
</dd>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_4"><a class="link" href="#_targets_4">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm [(DimmIDs)]</dt>
<dd>
<p>Creates a memory allocation goal on specific DCPMMs by optionally supplying one or
more comma-separated DCPMM identifiers. This list must include all
unconfigured DCPMMs on the affected socket(s). The default is to configure
all manageable DCPMMs on all sockets.</p>
</dd>
<dt class="hdlist1">-socket (SocketIds)</dt>
<dd>
<p>Creates the memory allocation goal onto all manageable DCPMMs on specific
sockets by supplying the socket target and one or more comma-separated socket
identifiers. The default is to create the memory allocation goal onto all
manageable DCPMMs on all sockets.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_properties"><a class="link" href="#_properties">PROPERTIES</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">MemoryMode</dt>
<dd>
<p>Percentage of the total capacity to use in Memory Mode <span class="underline">(0-100)</span>.
Default = 0.</p>
</dd>
<dt class="hdlist1">PersistentMemoryType</dt>
<dd>
<p>If MemoryMode is not 100%, the type of persistent memory to create.</p>
<div class="ulist">
<ul>
<li>
<p>"AppDirect": (Default) Create App Direct capacity utilizing hardware interleaving across the
requested DCPMMs if applicable given the specified target.</p>
</li>
<li>
<p>"AppDirectNotInterleaved": Create App Direct capacity that is not interleaved any
other DCPMMs.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">NamespaceLabelVersion</dt>
<dd>
<p>The version of the namespace label storage area (LSA) index block</p>
<div class="ulist">
<ul>
<li>
<p>"1.2": (Default) Defined in UEFI 2.7a - sections 13.19</p>
</li>
<li>
<p>"1.1": Legacy 1.1 namespace label support</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Reserved</dt>
<dd>
<p>Reserve a percentage <span class="underline">(0-100)</span> of the requested DCPMM App Direct capacity
that will not be mapped into the system physical address space and will be
presented as Reserved Capacity with Show Device and Show Memory Resources
Commands.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_6"><a class="link" href="#_examples_6">EXAMPLES</a></h5>
<div class="paragraph">
<p>Configures all the DCPMM capacity in Memory Mode.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl create -goal MemoryMode=100</pre>
</div>
<div class="paragraph">
<p>Configures all the DCPMM capacity as App Direct.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl create -goal PersistentMemoryType=AppDirect</pre>
</div>
<div class="paragraph">
<p>Configures the capacity on each DCPMM with 20% of the capacity in Memory
Mode and the remaining as App Direct capacity that does not use hardware
interleaving.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl create -goal MemoryMode=20 PersistentMemoryType=AppDirectNotInterleaved</pre>
</div>
<div class="paragraph">
<p>Configures the DCPMM capacity across the entire system with 25% of the
capacity in Memory Mode, 25% reserved and the remaining 50% as App Direct.
Configures the DCPMM capacity across the entire system with 25% of the
capacity in Memory Mode and the remaining 75% as App Direct.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl create -goal MemoryMode=25 PersistentMemoryType=AppDirect Reserved=25</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations"><a class="link" href="#_limitations">LIMITATIONS</a></h5>
<div class="paragraph">
<p>In order to successfully execute this command:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The caller must have the appropriate privileges.</p>
</li>
<li>
<p>The specified DCPMM(s) must be manageable by the host software and
must all have the same SKU.</p>
</li>
<li>
<p>Existing memory allocation goals that have not been applied and any namespaces
associated with the requested DCPMM(s) must be deleted before running
this command.</p>
</li>
<li>
<p>Security state must be disabled.
Changing the memory configuration is a destructive operation which results in loss of
data stored in the persistent memory region. Therefore, data should be backed up to
other storage before executing this command.
Targets may be limited to individual DCPMMs or sockets, but all DCPMMs
on affected sockets must be configured when the command finishes. If the
selected targets make this impossible, the command will be rejected.
Refer to <strong><em>Show System Capabilities</em></strong> for a list of BIOS
supported modes.</p>
</li>
<li>
<p>Some requests are dependent on BIOS and/or platform configuration. For details, refer
to the <em>Intel® Optane™ DC Persistent Memory Software Memory Allocation Rules</em>,
document number 564194. For example:</p>
</li>
<li>
<p>Provisioning DCPMMs for Memory Mode while BIOS is configured for 1LM only
will result in unused capacity.</p>
</li>
<li>
<p>Provisioning DCPMMs for Memory Mode while not all iMCs have at least one DCPMM
will result in unused capacity.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_6"><a class="link" href="#_return_data_6">RETURN DATA</a></h5>
<div class="paragraph">
<p>Minor adjustments (up to 10%) in the requested capacities are sometimes
necessary to align properly according to the platform rules. There are also some
situations that require additional confirmation from the user because they may
result in a non- optimal configuration (i.e., reduced performance).
These are described below.:</p>
</div>
<div class="paragraph">
<p><strong>The requested goal may result in a non-optimal configuration due to the
population of DIMMs in the system</strong><br></p>
</div>
<div class="paragraph">
<p>Memory Mode capacity requested but the population of DRAM DIMMs and DCPMMs in
the system may result in reduced performance (i.e., the ratio of DRAM and DCPMMs
is not balanced, DRAM and DCPMMs are not on the same channel or not all the same
size).</p>
</div>
<div class="paragraph">
<p><strong>The requested goal may result in a non-optimal configuration due to
the population of DIMMs in the system.</strong><br>
App Direct capacity requested but the population of DCPMMs in the system may
result in reduced performance (i.e., DCPMMs are not the same size or populated
asymmetrically across the socket).</p>
</div>
<div class="paragraph">
<p><strong>The requested goal will result in App Direct capacity which is not supported by
the host software.</strong><br>
App Direct capacity requested but App Direct is not supported by the currently
installed host software.</p>
</div>
<div class="paragraph">
<p><strong>The requested goal will result in Memory Mode capacity that is unusable
with the currently selected platform BIOS volatile mode.</strong><br>
Memory Mode capacity requested by the platform BIOS is currently set to 1LM Mode.</p>
</div>
<div class="paragraph">
<p><strong>The requested goal was adjusted more than 10% to find a valid configuration.</strong><br>
&gt; 10% adjustment from the requested goal</p>
</div>
<div class="paragraph">
<p><strong>The amount of mapped memory was limited based on the SKU resulting in un-mapped
capacity.</strong><br>
Mapped memory was limited based on the CPU SKU.</p>
</div>
<div class="paragraph">
<p>Therefore, before making any changes to the configuration, a prompt is displayed
showing the memory allocation goals that will be created on each DCPMM as
documented in the command Section <a href="#_show_memory_allocation_goal">Show Memory Allocation Goal</a>, along
with any additional confirmation messages. The force option can be used to
override this confirmation and proceed directly with creating the goals.</p>
</div>
<div class="verseblock">
<pre class="content">The following configuration will be applied:
SocketID DimmID MemorySize AppDirect1Size AppDirect2Size (Refer to
the command Section <a href="#_show_memory_allocation_goal">Show Memory Allocation Goal</a>)
[Additional Confirmation Messages (see above)] Do you want to
continue?</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_memory_allocation_goal"><a class="link" href="#_show_memory_allocation_goal">2.2.2. Show Memory Allocation Goal</a></h4>
<div class="sect4">
<h5 id="_name_7"><a class="link" href="#_name_7">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-goal - Shows the memory allocation goal on one or more DCPMM</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_7"><a class="link" href="#_synopsis_7">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -goal [TARGETS] [PROPERTIES]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_7"><a class="link" href="#_description_7">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows the memory allocation goal on one or more DCPMMs. Once the goal is
successfully applied by the BIOS, it is no longer displayed. Use the command
Section <a href="#_show_memory_resources">Show Memory Resources</a> to view the system-wide memory resources
or the command <strong><em>Show Persistent Memory</em></strong> for detailed persistent
memory information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_7"><a class="link" href="#_options_7">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-a</dt>
<dt class="hdlist1">-all</dt>
<dd>
<p>Shows all attributes.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-d (attributes)</dt>
<dt class="hdlist1">-display (attributes)</dt>
<dd>
<p>Filters the returned attributes by explicitly specifying a comma-separated
list of any of the attributes defined in the Return Data section.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_5"><a class="link" href="#_targets_5">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Restricts output to specific DCPMMs by supplying one or more comma separated
DCPMM identifiers. The default is to display all manageable DCPMMs with memory
allocation goals.</p>
</dd>
<dt class="hdlist1">-socket (SocketIds)</dt>
<dd>
<p>Restricts output to the DCPMMs on specific sockets by supplying the socket
target and one or more comma-separated socket identifiers. The default is to
display all manageable DCPMMs on all sockets with memory allocation goals.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_7"><a class="link" href="#_examples_7">EXAMPLES</a></h5>
<div class="paragraph">
<p>Shows the default memory allocation goal attributes for each DCPMM.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -goal</pre>
</div>
<div class="paragraph">
<p>Shows all the memory allocation goal attributes for the DCPMMs on socket 1.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -a -goal -socket 1</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_2"><a class="link" href="#_limitations_2">LIMITATIONS</a></h5>
<div class="paragraph">
<p>The specified DCPMMs must be manageable by the host software.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_7"><a class="link" href="#_return_data_7">RETURN DATA</a></h5>
<div class="paragraph">
<p>The default behavior is to display a table with the default attributes for each
DCPMM; applying options changes the output to a more detailed format.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">SocketID</dt>
<dd>
<p>(Default) The processor socket identifier where the DCPMM is installed.</p>
</dd>
<dt class="hdlist1">DimmID</dt>
<dd>
<p>(Default)
The DCPMM identifier</p>
</dd>
<dt class="hdlist1">MemorySize</dt>
<dd>
<p>(Default) The DCPMM capacity that will be configured in Memory Mode.</p>
</dd>
<dt class="hdlist1">AppDirect1Size</dt>
<dd>
<p>(Default) The DCPMM capacity that will be configured as the first App Direct
interleave set if applicable.</p>
</dd>
<dt class="hdlist1">AppDirect1Index</dt>
<dd>
<p>Unique identifier of the first App Direct interleave set.</p>
<div class="ulist">
<ul>
<li>
<p>N/A: If no App Direct interleave set</p>
</li>
<li>
<p>Numeric value if App Direct interleave set is present.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">AppDirect1Settings</dt>
<dd>
<p>The settings for the first App Direct interleave set in the format: x(Way)
[- (Size) iMC] [x (Size) Channel]</p>
</dd>
<dt class="hdlist1">AppDirect2Size</dt>
<dd>
<p>(Default) The DCPMM capacity that will be configured as the second App
Direct interleave set if applicable.</p>
</dd>
<dt class="hdlist1">AppDirect2Index</dt>
<dd>
<p>Unique identifier of the second App Direct interleave set.</p>
<div class="ulist">
<ul>
<li>
<p>N/A: If no App Direct interleave set</p>
</li>
<li>
<p>Numeric value if App Direct interleave set is present.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">AppDirect2Settings</dt>
<dd>
<p>The settings for the second App Direct interleave set in the format: x(Way)
[- (Size) iMC] [x (Size) Channel]</p>
</dd>
<dt class="hdlist1">Status</dt>
<dd>
<p>The status of the memory allocation goal. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown: The status cannot be determined.</p>
</li>
<li>
<p>New: A reboot is required for the memory allocation goal to be processed by
the BIOS.</p>
</li>
<li>
<p>Failed - Bad request: The BIOS failed to process the memory allocation goal
because it was invalid.</p>
</li>
<li>
<p>Failed - Not enough resources: There were not enough resources for the BIOS
to process the memory allocation goal.</p>
</li>
<li>
<p>Failed - Firmware error: The BIOS failed to process the memory allocation
goal due to a firmware error.</p>
</li>
<li>
<p>Failed - Unknown: The BIOS failed to process the memory allocation goal due
to an unknown error.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output"><a class="link" href="#_sample_output">SAMPLE OUTPUT</a></h5>
<div class="paragraph">
<p>If a new memory allocation goal has been created, a prompt to reboot will be
presented.</p>
</div>
<div class="verseblock">
<pre class="content">A reboot is required to process new memory allocation goals.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dump_memory_allocation_settings"><a class="link" href="#_dump_memory_allocation_settings">2.2.3. Dump Memory Allocation Settings</a></h4>
<div class="sect4">
<h5 id="_name_8"><a class="link" href="#_name_8">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-dump-goal - Stores the current system configuration in a file</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_8"><a class="link" href="#_synopsis_8">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl dump [OPTIONS] -destination (path) -system -config</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_8"><a class="link" href="#_description_8">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Store the currently configured memory allocation settings for all DCPMMs in the
system to a file in order to replicate the configuration elsewhere. Apply the
stored memory allocation settings using the command Section
<a href="#_load_memory_allocation_goal">Load Memory Allocation Goal</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_8"><a class="link" href="#_options_8">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_8"><a class="link" href="#_examples_8">EXAMPLES</a></h5>
<div class="paragraph">
<p>Stores the memory allocation settings from all the DCPMMs into the file "config.txt".</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl dump -destination config.txt -system -config</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_3"><a class="link" href="#_limitations_3">LIMITATIONS</a></h5>
<div class="paragraph">
<p>Only memory allocation settings for manageable DCPMMs that have been
successfully applied by the BIOS are stored in the file. Unconfigured DCPMMs are
not included, nor are memory allocation goals that have not been applied.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_8"><a class="link" href="#_return_data_8">RETURN DATA</a></h5>
<div class="paragraph">
<p>The CLI will indicate the overall status of the operation when complete. If a
failure occurs when dumping the memory allocation from multiple DCPMMs, the
process will stop and the output file will be removed.</p>
</div>
<div class="paragraph">
<p>The output file is formatted as an ASCII file with one row per DCPMM containing
the following comma-separated values.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">SocketID</dt>
<dd>
<p>unsigned short int Identifier for the socket the DCPMM is associated with.</p>
</dd>
<dt class="hdlist1">DimmHandle</dt>
<dd>
<p>unsigned int DCPMM device handle.</p>
</dd>
<dt class="hdlist1">Capacity</dt>
<dd>
<p>unsigned long long int Total capacity of the DCPMM in GiB.</p>
</dd>
<dt class="hdlist1">MemorySize</dt>
<dd>
<p>unsigned long long int Capacity of the DCPMM allocated as Memory Mode in GiB.</p>
</dd>
<dt class="hdlist1">AppDirect1Size</dt>
<dd>
<p>unsigned long long int Capacity of the DCPMM allocated for the first App
Direct interleave set in GiB.</p>
</dd>
<dt class="hdlist1">AppDirect1Format</dt>
<dd>
<p>unsigned short int Bit mask representing the interleave format of the first
App Direct interleave set.</p>
</dd>
<dt class="hdlist1">AppDirect1Mirrored</dt>
<dd>
<p>unsigned char 1 if the first App Direct interleave set is mirrored, 0
otherwise.</p>
</dd>
<dt class="hdlist1">AppDirect1Index</dt>
<dd>
<p>unsigned short int Unique index of the first App Direct interleave set.</p>
</dd>
<dt class="hdlist1">AppDirect2Size</dt>
<dd>
<p>unsigned long long int Capacity of the DCPMM allocated for the second App
Direct interleave set in GiB.</p>
</dd>
<dt class="hdlist1">AppDirect2Format</dt>
<dd>
<p>unsigned short int Bit mask representing the interleave format of the second
App Direct interleave set.</p>
</dd>
<dt class="hdlist1">AppDirect2Mirrored</dt>
<dd>
<p>unsigned char 1 if the second App Direct interleave set is mirrored, 0
otherwise.</p>
</dd>
<dt class="hdlist1">AppDirect2Index</dt>
<dd>
<p>unsigned short int Unique index of the second App Direct interleave set.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_2"><a class="link" href="#_sample_output_2">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Successfully dumped system configuration to file: config.csv</pre>
</div>
<div class="paragraph">
<p>config.csv contents:</p>
</div>
<div class="verseblock">
<pre class="content">#SocketID,DimmHandle,Capacity,MemorySize,AppDirect1Size,AppDirect
1Format,AppDirect
1Mirrored,AppDirect1Index,AppDirect2Size,AppDirect2Format,AppDire
ct2Mirrored,AppDirect2Index
1,4385,64,64,0,0,0,0,0,0,0,0
1,4401,64,64,0,0,0,0,0,0,0,0
1,4417,64,64,0,0,0,0,0,0,0,0
1,4433,64,64,0,0,0,0,0,0,0,0
1,4449,64,64,0,0,0,0,0,0,0,0</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_load_memory_allocation_goal"><a class="link" href="#_load_memory_allocation_goal">2.2.4. Load Memory Allocation Goal</a></h4>
<div class="sect4">
<h5 id="_name_9"><a class="link" href="#_name_9">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-load-goal - Load a memory allocation goal from a file onto DCPMMs</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_9"><a class="link" href="#_synopsis_9">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl load [OPTIONS] -source (path) -goal [TARGETS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_9"><a class="link" href="#_description_9">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Load a memory allocation goal from a file onto one or more DCPMMs.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Deleting the PCD can be used as a way to prepare individual DCPMMs for provisioning.
See the delete -pcd command.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<strong>This command may result in data loss. Data should be backed up
to other storage before executing this command</strong>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Changing a memory allocation goal modifies how the platform firmware maps
persistent memory in the system address space (SPA) which may result in data loss or
inaccessible data, but does not explicitly delete or modify user data
found in persistent memory.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_options_9"><a class="link" href="#_options_9">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-f</dt>
<dt class="hdlist1">-force</dt>
<dd>
<p>Reconfiguring DCPMMs is a destructive operation which requires
confirmation from the user. This option suppresses the confirmation.</p>
</dd>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_6"><a class="link" href="#_targets_6">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Loads the memory allocation goal onto specific DCPMMs by supplying one or more
comma separated DCPMM identifiers. The default is to load the memory
allocation goal onto all manageable DCPMMs.</p>
</dd>
<dt class="hdlist1">-socket (SocketIds)</dt>
<dd>
<p>Loads the memory allocation goal onto all manageable DCPMMs on specific
sockets by supplying the socket target and one or more comma-separated socket
identifiers. The default is to load the memory allocation goal onto all
manageable DCPMMs on all sockets.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_9"><a class="link" href="#_examples_9">EXAMPLES</a></h5>
<div class="paragraph">
<p>Loads the configuration settings stored in "config.txt" onto all the DCPMMs in
the system as a memory allocation goal to be applied by the BIOS on the next
reboot.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl load -source config.txt -goal</pre>
</div>
<div class="paragraph">
<p>Loads the configuration settings stored in "config.txt" onto a specified set of
DCPMMs as a memory allocation goal to be applied by the BIOS on the next reboot.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl load -source config.txt -goal -dimm 1,2,3</pre>
</div>
<div class="paragraph">
<p>Loads the configuration settings stored in "config.txt" onto all manageable
DCPMMs on sockets 1 and 2 as a memory allocation goal to be applied by the BIOS
on the next reboot.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl load -source config.txt -goal -socket 1,2</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_4"><a class="link" href="#_limitations_4">LIMITATIONS</a></h5>
<div class="paragraph">
<p>In order to successfully execute this command:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The caller must have the appropriate privileges.</p>
</li>
<li>
<p>The specified DCPMM(s) must be manageable by the host software and
must all have the same SKU.</p>
</li>
<li>
<p>Existing memory allocation goals that have not been applied and any namespaces
associated with the requested DCPMM(s) must be deleted before running
this command.</p>
</li>
<li>
<p>Security state must be disabled.
Changing the memory configuration is a destructive operation which results in loss of
data stored in the persistent memory region. Therefore, data should be backed up to
other storage before executing this command.
Targets may be limited to individual DCPMMs or sockets, but all DCPMMs
on affected sockets must be configured when the command finishes. If the
selected targets make this impossible, the command will be rejected.
Refer to <strong><em>Show System Capabilities</em></strong> for a list of BIOS
supported modes.</p>
</li>
<li>
<p>Some requests are dependent on BIOS and/or platform configuration. For details, refer
to the <em>Intel&#174; Optane&#8482; DC Persistent Memory Software Memory Allocation Rules</em>,
document number 564194. For example:</p>
</li>
<li>
<p>Provisioning DCPMMs for Memory Mode while BIOS is configured for 1LM only
will result in unused capacity.</p>
</li>
<li>
<p>Provisioning DCPMMs for Memory Mode while not all iMCs have at least one DCPMM
will result in unused capacity.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_9"><a class="link" href="#_return_data_9">RETURN DATA</a></h5>
<div class="paragraph">
<p>If successful, the CLI will display the memory allocation goal stored on each
DCPMM as documented in the command Section <a href="#_show_memory_allocation_goal">Show Memory Allocation Goal</a>.
If a failure occurs, an error code and message will be displayed. If a failure
occurs when configuring multiple DCPMMs, the process will exit and remove the
memory allocation goal from any DCPMMs that succeeded prior to the failure.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_delete_memory_allocation_goal"><a class="link" href="#_delete_memory_allocation_goal">2.2.5. Delete Memory Allocation Goal</a></h4>
<div class="sect4">
<h5 id="_name_10"><a class="link" href="#_name_10">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-delete-goal - Deletes the memory allocation goal from DCPMMs</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_10"><a class="link" href="#_synopsis_10">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl delete [OPTIONS] -goal [TARGETS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_10"><a class="link" href="#_description_10">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Deletes the memory allocation goal from one or more DCPMMs. This command only
deletes a memory allocation goal request that has not been processed by BIOS.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_10"><a class="link" href="#_options_10">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_7"><a class="link" href="#_targets_7">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm [(DimmIDs)]</dt>
<dd>
<p>Deletes the memory allocation goal from specific DCPMMs by optionally supplying one or
more comma-separated DCPMM identifiers. The default is to delete the memory
allocation goals from all manageable DCPMMs.</p>
</dd>
<dt class="hdlist1">-socket (SocketIds)</dt>
<dd>
<p>Deletes the memory allocation goal from the DCPMMs on specific sockets by
supplying the socket target and one or more comma-separated socket
identifiers. The default is to delete the memory allocation goals from
manageable DCPMMs on all sockets.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_10"><a class="link" href="#_examples_10">EXAMPLES</a></h5>
<div class="paragraph">
<p>Deletes the memory allocation goal from all DCPMMs on all sockets.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl delete -goal</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_5"><a class="link" href="#_limitations_5">LIMITATIONS</a></h5>
<div class="paragraph">
<p>The appropriate privileges and the specified DCPMM(s) must be manageable by the
host software and unlocked if security is enabled.
given socket and all specified DCPMMs must contain a memory allocation goal.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_10"><a class="link" href="#_return_data_10">RETURN DATA</a></h5>
<div class="paragraph">
<p>For each DCPMM, the CLI will indicate the status of the operation. If a failure occurs
when deleting the memory allocation goals from multiple DCPMMs, the process will
output a failure message for those DCPMMs that did not succeed and a success
message for those that did.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_3"><a class="link" href="#_sample_output_3">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Delete memory allocation goal from DIMM (DimmID): Success
Delete memory allocation goal from DIMM (DimmID): Error:
(Description) Delete memory allocation goal from DCPMM
(DimmID): Success
&#8230;&#8203;</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_security"><a class="link" href="#_security">2.3. Security</a></h3>
<div class="paragraph">
<p>DCPMMs support data-at-rest security by encrypting of the data stored in the persistent
regions of the DIMM. The CLI supports configuring DCPMM data-at-rest security
features including setting a passphrase to lock the DIMM each time it goes through a
power cycle, unlocking a DIMM by providing the passphrase, removing the passphrase,
preventing security state changes by freeze locking, and crypto-erasing the persistent
data by triggering the refresh of the encryption key for the DCPMM persistent region.
See the command Enable Device Security for details on setting the data-at-rest
security settings.</p>
</div>
<div class="paragraph">
<p>The CLI supports three mechanisms to specify passphrases in the security commands
in order to provide better protection of the passphrase itself.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Specify the passphrase(s) directly in the command as properties. This provides the
least amount of protection for the passphrase(s) as command line history can be
easily retrieved using standard mechanisms.</p>
</li>
<li>
<p>Use empty strings for the passphrase properties (e.g. Passphrase="") in the
command which will trigger the CLI to prompt the user for the passphrase(s).</p>
</li>
<li>
<p>Supply a file path to a local file containing the passphrase(s) with the source
option, along with setting the passphrase properties to empty strings, and the CLI
will read the passphrase(s) from the file.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The file is expected to have the file format on the first line (#ascii is the only supported
format) followed by the passphrase properties as described by the individual
commands, each on it&#8217;s own line. An example passphrase file is provided below.</p>
</div>
<div class="verseblock">
<pre class="content">#ascii Passphrase=myOldPassphrase123
NewPassphrase=myNewPassphrase345</pre>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
It is expected that the same mechanism (property, prompt or file) will be used for all
passphrases in a given command
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When specifying a passphrase in the command line, single quotes are not supported
and matched double quotes are ignored. (For example, NewPassphrase="123" will
result in 123 as the passphrase, but NewPassphrase="123 will result in a syntax error.)
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When specifying a passphrase, the passphrase cannot contain the percent sign (%).
Usage of the percent sign in the passphrase will result in a syntax error.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When specifying a passphrase, double quotes ("), caret (^), pound sign (#), and pipe
symbol (|) are stripped out unless escaped with caret. (For example, NewPassphrase=12#34
will result in 1234 as the passphrase, but NewPassphrase=12^#34 will result in 12#34 as
the passphrase.)
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When specifying a passphrase in the command line, the passphrase cannot be set to
any of the property names associated with the security commands. For example,
attempting to use "Passphrase", "NewPassphrase", or "ConfirmPassphrase" as the
passphrase will result in a syntax error.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_enable_device_security"><a class="link" href="#_enable_device_security">2.3.1. Enable Device Security</a></h4>
<div class="sect4">
<h5 id="_name_11"><a class="link" href="#_name_11">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-enable-device-security - Enable data-at-rest security on DCPMM</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_11"><a class="link" href="#_synopsis_11">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl set [OPTIONS] -dimm [TARGETS] NewPassphrase=(string)
ConfirmPassphrase=(string)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_11"><a class="link" href="#_description_11">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Enable data-at-rest security for the persistent memory on one or more DCPMMs
by setting a passphrase.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_11"><a class="link" href="#_options_11">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-source (path)</dt>
<dd>
<p>File path to a local file containing the new passphrase (1-32 characters).</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The file does not need to contain the ConfirmPassphrase property
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_targets_8"><a class="link" href="#_targets_8">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Set the passphrase on specific DCPMMs by supplying one or more comma
separated DCPMM identifiers. However, this is not recommended as it
may put the system in an undesirable state. The default is to set the
passphrase on all manageable DCPMMs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_properties_2"><a class="link" href="#_properties_2">PROPERTIES</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">NewPassphrase</dt>
<dd>
<p>The new passphrase (1-32 characters). For better passphrase protection,
specify an empty string (e.g., NewPassphrase="") to be prompted for the
passphrase or to use a file containing the passphrase with the source option.</p>
</dd>
<dt class="hdlist1">ConfirmPassphrase</dt>
<dd>
<p>Confirmation of the new passphrase (1-32 character and must match
NewPassphrase). For better passphrase protection, specify an empty string
(e.g., ConfirmPassphrase="") to be prompted for the passphrase or to use a
file containing the passphrase with the source option.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_11"><a class="link" href="#_examples_11">EXAMPLES</a></h5>
<div class="paragraph">
<p>Set a passphrase on DIMM 0x0001.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl set -dimm 0x0001 NewPassphrase=123 ConfirmPassphrase=123</pre>
</div>
<div class="paragraph">
<p>Sets a passphrase on DCPMM 0x0001 by supplying the passphrase in the file
mypassphrase.file. In this example, the format of the file would be:</p>
</div>
<div class="paragraph">
<p>#ascii<br>
NewPassphrase=myNewPassphrase</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl set -source mypassphrase.file -dimm 0x0001 NewPassphrase="" ConfirmPassphrase=""</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_6"><a class="link" href="#_limitations_6">LIMITATIONS</a></h5>
<div class="paragraph">
<p>In order to successfully execute this command:</p>
</div>
<div class="paragraph">
<p>The caller must have the appropriate privileges. The specified DCPMM must
have security disabled and be manageable by the host software.</p>
</div>
<div class="paragraph">
<p>There must not be any goal creation pending.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_11"><a class="link" href="#_return_data_11">RETURN DATA</a></h5>
<div class="paragraph">
<p>If empty strings are provided for the passphrase properties and the source option is not
included, the user will be prompted (once for all DCPMMs) to enter the new
passphrase and then again to confirm the new passphrase as described below. The
passphrase characters will be hidden.</p>
</div>
<div class="paragraph">
<p>New passphrase: ****
<br>
Confirm new passphrase: ****</p>
</div>
<div class="paragraph">
<p>For each DCPMM, the CLI will indicate the status of the set passphrase
operation. If a failure occurs when setting the passphrase on multiple DCPMMs,
the process will exit and not continue updating the remaining DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_4"><a class="link" href="#_sample_output_4">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Set passphrase on DIMM (DimmID): Success
&#8230;&#8203;
Set passphrase on DIMM (DimmID): Error (Code) - (Description)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_change_device_passphrase"><a class="link" href="#_change_device_passphrase">2.3.2. Change Device Passphrase</a></h4>
<div class="sect4">
<h5 id="_name_12"><a class="link" href="#_name_12">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-change-device-passphrase - Changes the security passphrase on DCPMM</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_12"><a class="link" href="#_synopsis_12">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl set [OPTIONS] -dimm [TARGETS] Passphrase=(string) NewPassphrase=(string)
ConfirmPassphrase=(string)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_12"><a class="link" href="#_description_12">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Changes the security passphrase on one or more DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_12"><a class="link" href="#_options_12">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-source (path)</dt>
<dd>
<p>File path to a local file containing the new passphrase (1-32 characters).</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The file does not need to contain the ConfirmPassphrase property
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_targets_9"><a class="link" href="#_targets_9">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Changes the passphrase on specific DCPMMs by supplying one or more
comma separated DCPMM identifiers. However, this is not recommended as
it may put the system in an undesirable state. The default is to change the
passphrase on all manageable DCPMMs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_properties_3"><a class="link" href="#_properties_3">PROPERTIES</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Passphrase</dt>
<dd>
<p>The current passphrase (1-32 characters). For better passphrase protection, specify an
empty string (e.g., Passphrase="") to be prompted for the current passphrase or to use
a file containing the passphrases with the source option.</p>
</dd>
<dt class="hdlist1">NewPassphrase</dt>
<dd>
<p>The new passphrase (1-32 characters). For better passphrase protection,
specify an empty string (e.g., NewPassphrase="") to be prompted for the
passphrase or to use a file containing the passphrase with the source option.</p>
</dd>
<dt class="hdlist1">ConfirmPassphrase</dt>
<dd>
<p>Confirmation of the new passphrase (1-32 character and must match
NewPassphrase). For better passphrase protection, specify an empty string
(e.g., ConfirmPassphrase="") to be prompted for the passphrase or to use a
file containing the passphrase with the source option.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_12"><a class="link" href="#_examples_12">EXAMPLES</a></h5>
<div class="paragraph">
<p>Changes the passphrase from mypassphrase to mynewpassphrase on all DCPMMs.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl set -dimm Passphrase=mypassphrase NewPassphrase=mynewpassphrase
 ConfirmPassphrase=mynewpassphrase</pre>
</div>
<div class="paragraph">
<p>Changes the passphrase on all DCPMMs by having the CLI prompt for the
current and new passphrases.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl set -dimm Passphrase="" NewPassphrase="" ConfirmPassphrase=""</pre>
</div>
<div class="paragraph">
<p>Changes the passphrase on all DCPMMs by supplying the current and new
passphrases from the specified file. In this example, the format of the file
would be:</p>
</div>
<div class="paragraph">
<p>#ascii<br>
Passphrase=myOldPassphrase<br>
NewPassphrase=myNewPassphrase</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl set -source passphrase.file -dimm Passphrase="" NewPassphrase=""
ConfirmPassphrase=""</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_7"><a class="link" href="#_limitations_7">LIMITATIONS</a></h5>
<div class="paragraph">
<p>The specified DCPMM must be manageable by the host software, have
security enabled and not be in the "Unlocked, Frozen", "Disabled, Frozen",
or "Exceeded" lock states.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_12"><a class="link" href="#_return_data_12">RETURN DATA</a></h5>
<div class="paragraph">
<p>If empty strings are provided for the passphrase properties and the source
option is not included, the user will be prompted (once for all DCPMM) to enter
the current passphrase, then again for the new passphrase and then again to
confirm the new passphrase as described below. The passphrase characters are
hidden.</p>
</div>
<div class="paragraph">
<p>Current passphrase: ****</p>
</div>
<div class="paragraph">
<p>For each DIMM, the CLI will indicate the status of the passphrase change
operation. If a failure occurs when updating the passphrase on multiple DCPMMs,
the process will exit and not continue updating the remaining DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_5"><a class="link" href="#_sample_output_5">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Change passphrase on DIMM (DimmID): Success
&#8230;&#8203;
Change passphrase on DIMM (DimmID): Error (Code)-(Description)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_change_device_security"><a class="link" href="#_change_device_security">2.3.3. Change Device Security</a></h4>
<div class="sect4">
<h5 id="_name_13"><a class="link" href="#_name_13">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-change-device-security - Changes the DCPMM security lock state</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_13"><a class="link" href="#_synopsis_13">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl set [OPTIONS] -dimm [TARGETS] Lockstate=(Unlocked|Disabled|Frozen)
Passphrase=(string)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_13"><a class="link" href="#_description_13">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Changes the data-at-rest security lock state for the persistent memory on one or more
DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_13"><a class="link" href="#_options_13">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-source (path)</dt>
<dd>
<p>File path to a local file containing the new passphrase (1-32 characters).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_10"><a class="link" href="#_targets_10">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Changes the lock state of a specific DCPMMs by supplying one or more comma
separated DCPMM identifiers. However, this is not recommended as it may put
the system in an undesirable state. The default is to modify all manageable
DCPMMs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_properties_4"><a class="link" href="#_properties_4">PROPERTIES</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">LockState</dt>
<dd>
<p>The desired lock state.</p>
<div class="ulist">
<ul>
<li>
<p>"Disabled": Removes the passphrase on an DCPMM to disable security. Permitted
only when LockState is Unlocked.</p>
</li>
<li>
<p>"Unlocked": Unlocks the persistent memory on a locked DCPMM.</p>
</li>
<li>
<p>"Frozen": Prevents further lock state changes to the DCPMM until the next
reboot.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Passphrase</dt>
<dd>
<p>The current passphrase (1-32 characters). For better passphrase protection, specify an
empty string (e.g., Passphrase="") to be prompted for the current passphrase or to use
a file containing the passphrases with the source option.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_13"><a class="link" href="#_examples_13">EXAMPLES</a></h5>
<div class="paragraph">
<p>Unlocks device 0x0001.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl set -dimm 0x0001 LockState=Unlocked Passphrase=""</pre>
</div>
<div class="paragraph">
<p>Unlocks device 0x0001 by supplying the passphrase in the file "mypassphrase.file". In this
example, the format of the file would be:</p>
</div>
<div class="paragraph">
<p>#ascii<br>
Passphrase=myPassphrase</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl set -source myfile.file -dimm 0x0001 LockState=Unlocked
Passphrase=""</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_8"><a class="link" href="#_limitations_8">LIMITATIONS</a></h5>
<div class="paragraph">
<p>To successfully execute this command, the caller must have the appropriate privileges
and the specified DCPMMs must be manageable by the host software, have
security enabled, not be in the "Unlocked, Frozen", "Disabled, Frozen", or "Exceeded"
lock states, and not executing a long operation (ARS, Overwrite, FWUpdate).</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_13"><a class="link" href="#_return_data_13">RETURN DATA</a></h5>
<div class="paragraph">
<p>If an empty string is provided for the passphrase property and the source option is not
included, the user will be prompted (once for all DCPMMs) to enter the current
passphrase. The passphrase characters are hidden.</p>
</div>
<div class="paragraph">
<p>Current passphrase: <strong>*</strong>*</p>
</div>
<div class="paragraph">
<p>For each DCPMM, the CLI will indicate the status of the security state change.
If a failure occurs when changing multiple DCPMMs, the process will exit and
not continue updating the remaining DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_6"><a class="link" href="#_sample_output_6">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Unlock DIMM (DimmID): Success
Unlock DIMM (DimmID): Error (Code) - (Description)
Remove passphrase from DIMM (DimmID): Success
Remove passphrase from DIMM (DimmID): Error (Code) - (Description)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_erase_device_data"><a class="link" href="#_erase_device_data">2.3.4. Erase Device Data</a></h4>
<div class="sect4">
<h5 id="_name_14"><a class="link" href="#_name_14">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-erase-device-data - Erases the persistent data on one or more DCPMMs</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_14"><a class="link" href="#_synopsis_14">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl delete [OPTIONS] -dimm [TARGETS] Passphrase=(string)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_14"><a class="link" href="#_description_14">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Erases the persistent data on one or more DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_14"><a class="link" href="#_options_14">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-f</dt>
<dt class="hdlist1">-force</dt>
<dd>
<p>Erasing DCPMM data is a destructive operation which requires confirmation from
the user for each DCPMM. This option suppresses the confirmation.</p>
</dd>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-source (path)</dt>
<dd>
<p>File path to a local file containing the new passphrase (1-32 characters).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_11"><a class="link" href="#_targets_11">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Erases specific specifics by supplying one or more comma-separated specific
identifiers. However, this is not recommended as it may put the system in an
undesirable state. The default is to erase all manageable DCPMMs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_properties_5"><a class="link" href="#_properties_5">PROPERTIES</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Passphrase</dt>
<dd>
<p>If security state is disabled, then passphrase is not required and will be ignored
if supplied.<br>
If security state is enabled, then a passphrase must be supplied.<br>
The current passphrase (1-32 characters). For better passphrase protection, specify
an empty string (e.g., Passphrase="") to be prompted for the passphrase or to use a
file containing the passphrase with the source option.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_14"><a class="link" href="#_examples_14">EXAMPLES</a></h5>
<div class="paragraph">
<p>Security disabled DCPMMs: Erases all the persistent data on all DCPMMs in the
system.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl delete -dimm</pre>
</div>
<div class="paragraph">
<p>Security enabled specifics: Erases all the persistent data on all DCPMMs in the
system.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl delete -dimm Passphrase=123</pre>
</div>
<div class="paragraph">
<p>Erases all the persistent data on all DCPMMs by having the CLI prompt for
the current passphrase.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl delete -dimm Passphrase=""</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_9"><a class="link" href="#_limitations_9">LIMITATIONS</a></h5>
<div class="paragraph">
<p>To successfully execute this command, the caller must have the appropriate privileges
and the specified DCPMM(s) must be manageable by the host software, not be
in the "Unlocked, Frozen", "Disabled, Frozen", or "Exceeded" lock states and any
namespaces associated with the requested DCPMM(s) must be deleted before running this
command.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_14"><a class="link" href="#_return_data_14">RETURN DATA</a></h5>
<div class="paragraph">
<p>If an empty string is provided for the passphrase property and the source option is not
included, the user will be prompted (once for all DCPMMs) to enter the current
passphrase. The passphrase characters are hidden.</p>
</div>
<div class="paragraph">
<p>Current passphrase: <strong>*</strong>*</p>
</div>
<div class="paragraph">
<p>For each DCPMM, the CLI will indicate the status of the security state change.
If a failure occurs when changing multiple DCPMMs, the process will exit and
not continue updating the remaining DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_7"><a class="link" href="#_sample_output_7">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Erase DIMM (DimmID): Success
Erase DIMM (DimmID): Error (Code) - (Description)</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_instrumentation"><a class="link" href="#_instrumentation">2.4. Instrumentation</a></h3>
<div class="sect3">
<h4 id="_show_sensor"><a class="link" href="#_show_sensor">2.4.1. Show Sensor</a></h4>
<div class="sect4">
<h5 id="_name_15"><a class="link" href="#_name_15">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-sensor - Shows health statistics for one or more DCPMMs</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_15"><a class="link" href="#_synopsis_15">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -sensor [SENSORS] [TARGETS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_15"><a class="link" href="#_description_15">DESCRIPTION</a></h5>
<div class="paragraph">
<p>ipmctl-show-device to view more detailed information about a DCPMM.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_15"><a class="link" href="#_options_15">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-a</dt>
<dt class="hdlist1">-all</dt>
<dd>
<p>Shows all attributes.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-d (attributes)</dt>
<dt class="hdlist1">-display (attributes)</dt>
<dd>
<p>Filters the returned attributes by explicitly specifying a comma-separated
list of any of the attributes defined in the Return Data section.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_sensors"><a class="link" href="#_sensors">SENSORS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Health</dt>
<dd>
<p>(Default) The current DCPMM health as reported in the SMART log</p>
</dd>
<dt class="hdlist1">MediaTemperature</dt>
<dd>
<p>(Default) The current DCPMM media temperature in Celsius</p>
</dd>
<dt class="hdlist1">ControllerTemperature</dt>
<dd>
<p>(Default) The current DCPMM controller temperature in Celsius</p>
</dd>
<dt class="hdlist1">PercentageRemaining</dt>
<dd>
<p>(Default) Remaining DCPMM’s life as a percentage value of factory expected
life span</p>
</dd>
<dt class="hdlist1">LatchedDirtyShutdownCount</dt>
<dd>
<p>(Default) The number of shutdowns without notification over the lifetime of
the DCPMM</p>
</dd>
<dt class="hdlist1">UnlatchedDirtyShutdownCount</dt>
<dd>
<p>(Default) The number of shutdowns without notification over the lifetime of
the DCPMM. This counter is the same as LatchedDirtyShutdownCount except it will
always be incremented on a dirty shutdown, even if Latch System Shutdown Status
was not enabled</p>
</dd>
<dt class="hdlist1">PowerOnTime</dt>
<dd>
<p>(Default) The total power-on time over the lifetime of the DCPMM</p>
</dd>
<dt class="hdlist1">UpTime</dt>
<dd>
<p>(Default) The total power-on time since the last power cycle of the DCPMM</p>
</dd>
<dt class="hdlist1">PowerCycles</dt>
<dd>
<p>(Default) The number of power cycles over the lifetime of the DCPMM</p>
</dd>
<dt class="hdlist1">FwErrorCount</dt>
<dd>
<p>The total number of firmware error log entries</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_12"><a class="link" href="#_targets_12">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Restricts output to the sensors on specific DCPMMs by supplying the DIMM
target and one or more comma-separated DCPMM identifiers. The default is to
display sensors for all manageable DCPMMs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_15"><a class="link" href="#_examples_15">EXAMPLES</a></h5>
<div class="paragraph">
<p>Gets all sensor information for all DCPMMs.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -sensor</pre>
</div>
<div class="paragraph">
<p>Shows the media temperature sensor for the specified DCPMM.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -sensor MediaTemperature -dimm 1234</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_10"><a class="link" href="#_limitations_10">LIMITATIONS</a></h5>
<div class="paragraph">
<p>The specified DCPMM(s) must be manageable by the host software.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_15"><a class="link" href="#_return_data_15">RETURN DATA</a></h5>
<div class="paragraph">
<p>This command displays a table with a row for each sensor on each DCPMM. Applying
a specific DCPMM or sensor type target limits the number of rows. Applying
options can be used to expand or restrict the output.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">DimmID</dt>
<dd>
<p>(Default) The DCPMM identifier</p>
</dd>
<dt class="hdlist1">Type</dt>
<dd>
<p>(Default) The sensor type. Refer to the sensor table above.</p>
</dd>
<dt class="hdlist1">CurrentValue</dt>
<dd>
<p>(Default) The current reading followed by the units of measurement
(e.g., 57 °C or 25%)</p>
</dd>
<dt class="hdlist1">CurrentState</dt>
<dd>
<p>(Default) The current value in relation to the threshold settings
(if supported). One of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown: The state cannot be determined.</p>
</li>
<li>
<p>Normal: The current reading is within the normal range. This is the default
when the sensor does not support thresholds.</p>
</li>
<li>
<p>NonCritical: The current reading is within the non-critical range. For
example, an alarm threshold has been reached.</p>
</li>
<li>
<p>Critical: The current reading is within the critical range. For example, the
firmware has begun throttling down traffic to the DCPMM due to the
temperature.</p>
</li>
<li>
<p>Fatal: The current reading is within the fatal range. For example, the
firmware is shutting down the DCPMM due to the temperature.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">LowerThresholdNonCritical</dt>
<dd>
<p>The threshold value below which the state is considered "NonCritical".</p>
</dd>
<dt class="hdlist1">UpperThresholdNonCritical</dt>
<dd>
<p>The threshold value at or above which the state is considered "NonCritical".</p>
</dd>
<dt class="hdlist1">LowerThresholdCritical</dt>
<dd>
<p>The threshold value below which the state is considered "Critical".</p>
</dd>
<dt class="hdlist1">UpperThresholdCritical</dt>
<dd>
<p>The threshold value at or above which the state is considered "Critical".</p>
</dd>
<dt class="hdlist1">UpperThresholdFatal</dt>
<dd>
<p>The threshold value at or above which the state is considered "Fatal".</p>
</dd>
<dt class="hdlist1">SettableThresholds</dt>
<dd>
<p>A list of user settable thresholds. Zero or more of:</p>
<div class="ulist">
<ul>
<li>
<p>"LowerThresholdNonCritical"</p>
</li>
<li>
<p>"UpperThresholdNonCritical"</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">SupportedThresholds</dt>
<dd>
<p>A list of supported thresholds. Zero or more of:</p>
<div class="ulist">
<ul>
<li>
<p>"LowerThresholdNonCritical"</p>
</li>
<li>
<p>"UpperThresholdNonCritical"</p>
</li>
<li>
<p>"LowerThresholdCritical"</p>
</li>
<li>
<p>"UpperThresholdCritical"</p>
</li>
<li>
<p>"UpperThresholdFatal"</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">EnabledState</dt>
<dd>
<p>Whether the critical threshold alarm is enabled, disabled or not applicable.
One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Disabled</p>
</li>
<li>
<p>1: Enabled</p>
</li>
<li>
<p>N/A</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_change_sensor_settings"><a class="link" href="#_change_sensor_settings">2.4.2. Change Sensor Settings</a></h4>
<div class="sect4">
<h5 id="_name_16"><a class="link" href="#_name_16">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-change-sensor - Changes the threshold or enabled state for DCPMMs sensors</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_16"><a class="link" href="#_synopsis_16">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl set [OPTIONS] -sensor (SENSORS) [TARGETS]
NonCriticalThreshold=(temperature) EnabledState=(0|1)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_16"><a class="link" href="#_description_16">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Changes the non-critical threshold or enabled state for one or more DCPMMs
sensors.
Use the command Show Sensor to view the current settings.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_16"><a class="link" href="#_options_16">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-f</dt>
<dt class="hdlist1">-force</dt>
<dd>
<p>Changing the sensor settings is a potentially destructive operation which
requires confirmation from the user for each DCPMM. This option suppresses the
confirmation.</p>
</dd>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_sensors_2"><a class="link" href="#_sensors_2">SENSORS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">MediaTemperature</dt>
<dd>
<p>The current DCPMM media temperature in Celsius.<br>
Valid values: <span class="underline">0-2047</span></p>
</dd>
<dt class="hdlist1">ControllerTemperature</dt>
<dd>
<p>The current DCPMM controller temperature in Celsius.<br>
Valid values <span class="underline">0-2047</span></p>
</dd>
<dt class="hdlist1">PercentageRemaining</dt>
<dd>
<p>Remaining DCPMM’s life as a percentage value of factory expected
life span.<br>
Valid values: <span class="underline">1-99</span></p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_13"><a class="link" href="#_targets_13">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm [(DimmIDs)]</dt>
<dd>
<p>Restricts output to the sensors on specific DCPMMs by optionally supplying the DIMM
target and one or more comma-separated DCPMM identifiers. The default is to
display sensors for all manageable DCPMMs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_properties_6"><a class="link" href="#_properties_6">PROPERTIES</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">NonCriticalThreshold</dt>
<dd>
<p>The upper (for temperatures) or lower (for spare capacity) non-critical alarm
threshold of the sensor. If the current value of the sensor is at or above for
thermal, or below for capacity, the theshold value, then the sensor will
indicate a "NonCritical" state. Temperatures may be specified in degrees
Celsius to a precision of 1/16 a degree.</p>
</dd>
<dt class="hdlist1">EnabledState</dt>
<dd>
<p>Enable or disable the non-critical threshold alarm. One of:</p>
<div class="ulist">
<ul>
<li>
<p>"0": Disable</p>
</li>
<li>
<p>"1": Enable</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_16"><a class="link" href="#_examples_16">EXAMPLES</a></h5>
<div class="paragraph">
<p>Changes the media temperature threshold to 51 on the specified DCPMM and enable
the alarm.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl set -sensor MediaTemperature –dimm 0x0001 NonCriticalThreshold=51
EnabledState=1</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_11"><a class="link" href="#_limitations_11">LIMITATIONS</a></h5>
<div class="paragraph">
<p>The specified DCPMM(s) must be manageable by the host software.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_16"><a class="link" href="#_return_data_16">RETURN DATA</a></h5>
<div class="paragraph">
<p>For each DCPMM, the CLI will indicate the status of the operation. If a failure occurs
when modifying multiple DCPMMs, the process will exit and not continue modifying the
remaining DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_8"><a class="link" href="#_sample_output_8">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Modify (Sensor) settings on DIMM (DimmID): Success
&#8230;&#8203;
Modify (Sensor) settings on DIMM (DimmID): Error (Code) -
(Description)</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_persistent_memory_provisioning"><a class="link" href="#_persistent_memory_provisioning">2.5. Persistent Memory Provisioning</a></h3>
<div class="paragraph">
<p>During the initial provisioning of the Section <a href="#Memory Subsystem Provisioning">[Memory Subsystem Provisioning]</a> it is
possible to allocate some or all of the available DCPMM capacity as persistent memory.
If this was done, the result is one or more regions of persistent memory. The number of
persistent memory regions depends on the platform configuration (e.g., is it a 2 socket
or a 4 socket server) and the type of initial provisioning request.</p>
</div>
<div class="paragraph">
<p>Persistent memory provisioning is the process by which the capacity in available
regions is partitioned and made available as a persistent memory device or
"namespace" in the file system. Due to a number of factors there may be restrictions
on the type, size and number of namespaces that can be created from a given region.
The output of the command <a href="#_show_persistent_memory">Show Persistent Memory</a> includes
information on about the persistent memory regions. FreeCapacity indicates the largest
 that can be created from a given region. A size of zero indicates that it&#8217;s not
possible to create that namespace type from the region whose output is being
examined.</p>
</div>
<div class="paragraph">
<p>See the command Section <a href="#_create_namespace">Create Namespace</a> below for more
information on how to allocate namespaces from regions.
Once namespaces have been created information about them can be displayed with the
command Section <a href="#_show_namespace">Show Namespace</a> Once a given namespace is no longer
needed it can be deleted with the command Section <a href="#_delete_namespace">Delete Namespace</a> When
a namespace is deleted its capacity is returned to the region from which it was created
and it can be reallocated as a new namespace.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Deleting a namespace modifies how the platform organizes the persistent memory,
but does not explicitly delete or modify user data found in persistent memory
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If DCPMM is locked, then namespaces cannot be detected or displayed.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Namespace management is not supported via ipmctl CLI in the Operating System (OS)
      environment. Native OS utilities must be used for namespace management.
      See the Intel® Optane™ DC Persistent Memory Help and User’s Guide (document
      number 576369) for additional details on using the native OS utilities.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_show_persistent_memory"><a class="link" href="#_show_persistent_memory">2.5.1. Show Persistent Memory</a></h4>
<div class="sect4">
<h5 id="_name_17"><a class="link" href="#_name_17">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-region - Retrieves a list of persistent memory regions</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_17"><a class="link" href="#_synopsis_17">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -region [TARGETS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_17"><a class="link" href="#_description_17">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Retrieves a list of persistent memory regions of DCPMM capacity</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_17"><a class="link" href="#_options_17">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-a</dt>
<dt class="hdlist1">-all</dt>
<dd>
<p>Shows all attributes.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-d (attributes)</dt>
<dt class="hdlist1">-display (attributes)</dt>
<dd>
<p>Filters the returned attributes by explicitly specifying a comma-separated
list of any of the attributes defined in the Return Data section.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_14"><a class="link" href="#_targets_14">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-region (RegionIDs)</dt>
<dd>
<p>Restricts output to specific persistent memory regions by providing one or
more comma separated region identifiers. The default is to display the
persistent memory regions across all manageable DCPMMs.</p>
</dd>
<dt class="hdlist1">-socket (SocketIDs)</dt>
<dd>
<p>Restricts output to the persistent memory regions on specific sockets by
supplying the socket target and one or more comma-separated socket
identifiers. The default is to display all sockets.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_17"><a class="link" href="#_examples_17">EXAMPLES</a></h5>
<div class="paragraph">
<p>Shows all attributes of all persistent memory regions in the server.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -a -region</pre>
</div>
<div class="paragraph">
<p>Shows all attributes for the specified persistent memory region.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -a -region 1</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_12"><a class="link" href="#_limitations_12">LIMITATIONS</a></h5>
<div class="paragraph">
<p>All the underlying DCPMMs should be unlocked to accurately reflect the available
capacities. The specified DCPMM(s) must be manageable by the host software.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_17"><a class="link" href="#_return_data_17">RETURN DATA</a></h5>
<div class="paragraph">
<p>The default behavior is to display a table with the default attributes listed below;
applying options changes the output to a more detailed format.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">RegionID</dt>
<dd>
<p>(Default) The unique region identifier</p>
</dd>
<dt class="hdlist1">PersistentMemoryType</dt>
<dd>
<p>(Default) A comma-separated list of the underlying type(s) of persistent
memory capacity in the region. One or more of:</p>
<div class="ulist">
<ul>
<li>
<p>AppDirect: App Direct capacity interleaved across two or more DCPMMs that is
fully mapped into the system physical address space.</p>
</li>
<li>
<p>AppDirectNotInterleaved: App Direct capacity wholly contained on a single
DCPMMs that is fully mapped into the system physical address space.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Capacity</dt>
<dd>
<p>(Default) Total usable capacity, both allocated and unallocated</p>
</dd>
<dt class="hdlist1">FreeCapacity</dt>
<dd>
<p>(Default) Remaining usable capacity</p>
</dd>
<dt class="hdlist1">SocketID</dt>
<dd>
<p>(Default) Socket ID to which the region belongs</p>
</dd>
<dt class="hdlist1">HealthState</dt>
<dd>
<p>The rolled up health of the underlying DCPMMs. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown: The region health cannot be determined.</p>
</li>
<li>
<p>Healthy: All underlying DCPMM persistent memory capacity is available.</p>
</li>
<li>
<p>Pending: A new memory allocation goal has been created but not applied.
Reboot or delete any existing memory allocation goals before creating
namespaces on the region.</p>
</li>
<li>
<p>Error: There is an issue with some or all of the underlying DCPMM capacity
because the interleave set has failed.</p>
</li>
<li>
<p>Locked: One or more of the of the underlying DCPMMs are locked.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">ISetID</dt>
<dd>
<p>The region unique identifier. Also known as interleave set cookie.</p>
</dd>
<dt class="hdlist1">DimmID</dt>
<dd>
<p>A list of all the DIMMs that are part of this reg.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_namespace"><a class="link" href="#_show_namespace">2.5.2. Show Namespace</a></h4>
<div class="sect4">
<h5 id="_name_18"><a class="link" href="#_name_18">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-namespace - Shows information about one or more namespaces</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_18"><a class="link" href="#_synopsis_18">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -namespace [TARGETS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_18"><a class="link" href="#_description_18">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows information about one or more namespaces.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_18"><a class="link" href="#_options_18">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-a</dt>
<dt class="hdlist1">-all</dt>
<dd>
<p>Shows all attributes.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-d (attributes)</dt>
<dt class="hdlist1">-display (attributes)</dt>
<dd>
<p>Filters the returned attributes by explicitly specifying a comma-separated
list of any of the attributes defined in the Return Data section.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_15"><a class="link" href="#_targets_15">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-namespace (NamespaceIDs)</dt>
<dd>
<p>Restricts output to specific namespaces by providing a comma-separated list of
one or more namespace identifiers. The default is to display all namespaces.</p>
</dd>
<dt class="hdlist1">-region (RegionIDs)</dt>
<dd>
<p>Restricts output to the namespaces on specific regions by supplying the region
target and one or more comma-separated region identifiers. The default is to
display namespaces on all regions.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_18"><a class="link" href="#_examples_18">EXAMPLES</a></h5>
<div class="paragraph">
<p>Shows the default attributes for the specified namespace.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -namespace 0x01</pre>
</div>
<div class="paragraph">
<p>Shows all the attributes for all namespaces.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -a –namespace</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_13"><a class="link" href="#_limitations_13">LIMITATIONS</a></h5>
<div class="paragraph">
<p>Namespaces are not reported from locked DCPMMs. Use the command
<strong><em>Show System Capabilities</em></strong> to retrieve namespace limitations as reported by the
driver.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_18"><a class="link" href="#_return_data_18">RETURN DATA</a></h5>
<div class="paragraph">
<p>The default behavior is to display a table with the default attributes listed below;
applying options changes the output to a more detailed format.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">NamespaceID</dt>
<dd>
<p>(Default) The identifier of the namespace</p>
</dd>
<dt class="hdlist1">Capacity</dt>
<dd>
<p>(Default) The usable capacity of the namespace.This is raw namespace capacity less any meta data.</p>
</dd>
<dt class="hdlist1">HealthState</dt>
<dd>
<p>(Default) The rolled-up health of the underlying DCPMMs. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown</p>
</li>
<li>
<p>Healthy</p>
</li>
<li>
<p>Warning: Indicates a namespace has a non-critical problem: reporting an
LBA size that is unsupported by this driver.</p>
</li>
<li>
<p>Critical: Indicates a namespace has a critical problem: inconsistent data
structures, mismatch between namespace label and associated PM region,
poison or uncorrectable data in namespace metadata.</p>
</li>
<li>
<p>Locked: One or more of the of the underlying DCPMMs are locked.</p>
</li>
<li>
<p>Unsupported: The namespace type is not supported.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Name</dt>
<dd>
<p>The user specified namespace name up to a maximum of 64 characters</p>
</dd>
<dt class="hdlist1">RegionID</dt>
<dd>
<p>The region from which the namespace was created.</p>
</dd>
<dt class="hdlist1">BlockSize</dt>
<dd>
<p>The logical size in bytes for compatibility with block read/write operations</p>
</dd>
<dt class="hdlist1">Mode</dt>
<dd>
<p>Address abtraction type found on the namespace. One of:</p>
<div class="ulist">
<ul>
<li>
<p>None (raw)</p>
</li>
<li>
<p>Sector - Powerfail write atomicity is guaranteed via a Block Translation
Table (BTT).</p>
</li>
<li>
<p>fsdax - Supports filesystem-dax (See ndctl-create-namespace)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the namespace is disabled, mode may be reported as "None".
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">LabelVersion</dt>
<dd>
<p>Indicates the Namespace index version that can be set with Create Memory
Allocation Goal. One of:</p>
<div class="ulist">
<ul>
<li>
<p>1.1</p>
</li>
<li>
<p>1.2</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">NamespaceUUID</dt>
<dd>
<p>UUID of the namespace (raw UUID)</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_create_namespace"><a class="link" href="#_create_namespace">2.5.3. Create Namespace</a></h4>
<div class="sect4">
<h5 id="_name_19"><a class="link" href="#_name_19">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-create-namespace - Creates a namespace from a persistent memory region</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_19"><a class="link" href="#_synopsis_19">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl create [OPTIONS] -namespace -region (RegionID) [PROPERTIES]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_19"><a class="link" href="#_description_19">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Creates a new namespace from a persistent memory region of DCPMM capacity.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_19"><a class="link" href="#_options_19">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-f</dt>
<dt class="hdlist1">-force</dt>
<dd>
<p>If the resulting namespace capacity does not align properly, a prompt will be
displayed to confirm the rounded-up namespace capacity to the next aligned
size. This option suppresses the confirmation and proceeds with rounding up
the namespace capacity as necessary.</p>
</dd>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_16"><a class="link" href="#_targets_16">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-region (RegionIDs)</dt>
<dd>
<p>The region identifier on which to create the namespace</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_properties_7"><a class="link" href="#_properties_7">PROPERTIES</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Capacity</dt>
<dd>
<p>The size of the namespace. Unless the units option is provided, capacity is
expected in GiB. The default is to use the maximum available capacity on the
specified region.</p>
</dd>
<dt class="hdlist1">Name</dt>
<dd>
<p>Optional user specified namespace name to more easily identify the namespace.
Up to a maximum of 63 characters.</p>
</dd>
<dt class="hdlist1">Mode</dt>
<dd>
<p>The mode for the namespace after creation. One of:</p>
<div class="ulist">
<ul>
<li>
<p>"None": (Default) Raw namespace without any address abstraction.</p>
</li>
<li>
<p>"Sector": Powerfail block write atomicity is guaranteed via a Block
Translation Table (BTT)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_19"><a class="link" href="#_examples_19">EXAMPLES</a></h5>
<div class="paragraph">
<p>Creates an App Direct memory namespace on region 0x01 using default settings.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl create -namespace -region 0x01</pre>
</div>
<div class="paragraph">
<p>Creates a 32 GB App Direct namespace on region 0x01.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl create -units GB -namespace -region 0x01 Capacity=32</pre>
</div>
<div class="paragraph">
<p>Creates a 32 GB App Direct sector mode namespace on region 0x01.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl create -units GB -namespace -region 0x01 Capacity=32 mode=Sector</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_14"><a class="link" href="#_limitations_14">LIMITATIONS</a></h5>
<div class="paragraph">
<p>To successfully execute this command, the underlying DCPMMs must be unlocked and
the region HealthState must be "Healthy."</p>
</div>
<div class="paragraph">
<p>Uses the command <strong><em>Show System Capabilities</em></strong> to retrieve namespace
limitations as reported by the driver.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For App Direct namespaces to be compatible across operating systems, it is
recommended that a single App Direct namespace consumes the entire capacity
(AppDirectNamespaceMaxSize) as reported by the command <strong><em>Show Persistent Memory</em></strong>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Microsoft* Windows* validates only a single namespace per region
configuration.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_19"><a class="link" href="#_return_data_19">RETURN DATA</a></h5>
<div class="paragraph">
<p>If the resulting namespace capacity does not align properly, a prompt will be
displayed to confirm the rounded-up namespace capacity to the next aligned size.
The force option can be used to override this confirmation and proceed with the
rounded up capacity.</p>
</div>
<div class="verseblock">
<pre class="content">The requested namespace capacity [capacity] will be rounded up to [capacity] to
align properly. Do you want to continue?</pre>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_9"><a class="link" href="#_sample_output_9">SAMPLE OUTPUT</a></h5>
<div class="paragraph">
<p>If the namespace is created successfully, the CLI will display all attributes of the new
namespace as documented in the command Section <a href="#_show_namespace">Show Namespace</a>.
If a failure occurs when creating the namespace, the CLI will display a single error
message.</p>
</div>
<div class="verseblock">
<pre class="content">Create namespace failed: Error (Code)- (Description)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_modify_namespace"><a class="link" href="#_modify_namespace">2.5.4. Modify Namespace</a></h4>
<div class="sect4">
<h5 id="_name_20"><a class="link" href="#_name_20">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-modify-namespace - Modifies one or more existing namespaces</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_20"><a class="link" href="#_synopsis_20">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl set [OPTIONS] -namespace (NamespaceIDs) [PROPERTIES]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_20"><a class="link" href="#_description_20">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Modifies one or more existing namespaces.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_20"><a class="link" href="#_options_20">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-f</dt>
<dt class="hdlist1">-force</dt>
<dd>
<p>Modifying namespaces is a potentially destructive operation which requires
confirmation from the user for each namespace. This option suppresses the
confirmation.</p>
</dd>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-u (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dt class="hdlist1">-units (B|MB|MiB|GB|GiB|TB| TiB)</dt>
<dd>
<p>Changes the units that capacities are displayed in for this command. One of:
bytes (B), megabytes (MB), mebibytes (MiB), gigabytes (GB), gibibytes (GiB),
terabytes (TB) or tebibytes (TiB).</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_17"><a class="link" href="#_targets_17">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-namespace (NamespaceIDs)</dt>
<dd>
<p>Modifies the settings on specific namespaces by providing comma separated list
of one or more namespace identifiers. The default is to modify all namespaces.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_properties_8"><a class="link" href="#_properties_8">PROPERTIES</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Capacity</dt>
<dd>
<p>Changes the size of the namespace. Unless the units option is provided,
capacity is expected in GiB.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Expanding a namespace is only possible if there is available capacity on
the region from which the namespace was created and the namespace is not in a
critical health state. Refer to the command <strong><em>Show System Capabilities</em></strong>
to determine if the host software supports changing the size of a namespace.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Name</dt>
<dd>
<p>Changes the user specified namespace name up to a maximum of 64 characters.
Refer to the command <strong><em>Show System Capabilities</em></strong> to determine if
the host software supports changing the name of a namespace.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_20"><a class="link" href="#_examples_20">EXAMPLES</a></h5>
<div class="paragraph">
<p>Changes the name of the namespace to "MyNewNamespaceName"</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl set -namespace 12345678-1234-1234-1234-012345678912 Name=MyNewNamespaceName</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_15"><a class="link" href="#_limitations_15">LIMITATIONS</a></h5>
<div class="paragraph">
<p>To successfully execute this command, the underlying DCPMMs must be unlocked.</p>
</div>
<div class="paragraph">
<p>The capacity cannot be modified for namespaces with Sector optimization enabled.</p>
</div>
<div class="paragraph">
<p>Uses the command <strong><em>Show System Capabilities</em></strong> to retrieve namespace
limitations as reported by the driver.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_20"><a class="link" href="#_return_data_20">RETURN DATA</a></h5>
<div class="paragraph">
<p>If the resulting namespace capacity does not align properly, a prompt will be displayed
to confirm the adjusted namespace capacity. The force option can be used to override
this confirmation and proceed with the adjusted capacity.</p>
</div>
<div class="verseblock">
<pre class="content">The requested namespace capacity [capacity] will be changed to
[capacity] to align properly. Do you want to continue?</pre>
</div>
<div class="paragraph">
<p>For each namespace, the CLI will indicate the status of the operation. If a failure occurs
when modifying multiple namespaces, the process will continue modifying the
remaining namespaces. Use the command Section <a href="#_show_namespace">Show Namespace</a> to view
the modified namespace(s)</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_10"><a class="link" href="#_sample_output_10">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Modify namespace (NamespaceID): Success
&#8230;&#8203;
Modify namespace (NamespaceID): Success
Modify namespace (NamespaceID): Error (Code) - (Description)
[Failed to restore the original state.]</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_delete_namespace"><a class="link" href="#_delete_namespace">2.5.5. Delete Namespace</a></h4>
<div class="sect4">
<h5 id="_name_21"><a class="link" href="#_name_21">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-delete-namespace - Deletes one or more existing namespaces</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_21"><a class="link" href="#_synopsis_21">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl delete [OPTIONS] -namespace (NamespaceIDs)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_21"><a class="link" href="#_description_21">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Deletes one or more existing namespaces. All data on the deleted namespace(s)
becomes inaccessible.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Changing the namespace configuration is a destructive operation which may
result in loss of data stored in the associated namespace. Therefore, data
should be backed up to other storage before executing this command.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Deleting a namespace removes the logical OS mapping to the persistent
memory data, but does not explicitly delete or modify user data found in
persistent memory.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_options_21"><a class="link" href="#_options_21">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-f</dt>
<dt class="hdlist1">-force</dt>
<dd>
<p>Deleting namespaces is a destructive operation which requires confirmation
from the user for each namespace. This option suppresses the confirmation.</p>
</dd>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_18"><a class="link" href="#_targets_18">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-namespace (NamespaceIDs)</dt>
<dd>
<p>Deletes specific namespaces by providing a comma-separated list of one or more
namespace identifiers. The default is to delete all namespaces. Namespace
identifiers are limited to 64 characters.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_21"><a class="link" href="#_examples_21">EXAMPLES</a></h5>
<div class="paragraph">
<p>Deletes namespace 0x02.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl delete -namespace 0x2</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_16"><a class="link" href="#_limitations_16">LIMITATIONS</a></h5>
<div class="paragraph">
<p>To successfully execute this command, any associated file systems must be
un-mounted.</p>
</div>
<div class="paragraph">
<p>The specified DCPMM(s) must be manageable by the host software and unlocked if
security is enabled.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_21"><a class="link" href="#_return_data_21">RETURN DATA</a></h5>
<div class="paragraph">
<p>For each namespace, the CLI will indicate the status of the operation. If a
ailure occurs when deleting multiple namespaces, the process will continue
deleting the remaining namespaces.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_11"><a class="link" href="#_sample_output_11">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Delete namespace (NamespaceID): Success
Delete namespace (NamespaceID Error (Code) -
(Description) Delete namespace (NamespaceID): Success
&#8230;&#8203;</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_support_and_maintenance"><a class="link" href="#_support_and_maintenance">2.6. Support and Maintenance</a></h3>
<div class="sect3">
<h4 id="_help"><a class="link" href="#_help">2.6.1. Help</a></h4>
<div class="sect4">
<h5 id="_name_22"><a class="link" href="#_name_22">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-help - Shows help for the supported commands</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_22"><a class="link" href="#_synopsis_22">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl help [OPTIONS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_22"><a class="link" href="#_description_22">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows help for the supported commands.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_22"><a class="link" href="#_options_22">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_22"><a class="link" href="#_examples_22">EXAMPLES</a></h5>
<div class="paragraph">
<p>Lists all supported commands</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl help</pre>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_22"><a class="link" href="#_return_data_22">RETURN DATA</a></h5>
<div class="paragraph">
<p>The default behavior is to display an introduction to CLI followed by a list of
the supported commands. To display detailed help for a specific command, use the
help option with that specific command.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_12"><a class="link" href="#_sample_output_12">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">ipmctl help
Commands:
(name)
(synopsis)
(name)
(synopsis)
(name)
(synopsis)
(name)
(synopsis)
&#8230;&#8203;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version"><a class="link" href="#_version">2.6.2. Version</a></h4>
<div class="sect4">
<h5 id="_name_23"><a class="link" href="#_name_23">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-version - Shows the DCPMM host software versions</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_23"><a class="link" href="#_synopsis_23">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl version [OPTIONS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_23"><a class="link" href="#_description_23">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows the DCPMM host software versions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_23"><a class="link" href="#_options_23">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_23"><a class="link" href="#_examples_23">EXAMPLES</a></h5>
<div class="paragraph">
<p>Displays the available version information for the DCPMM software components.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl version</pre>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_23"><a class="link" href="#_return_data_23">RETURN DATA</a></h5>
<div class="paragraph">
<p>By default returns the following inventory information.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Component</dt>
<dd>
<p>The name of the software component. One of:</p>
<div class="ulist">
<ul>
<li>
<p>[Product Name] Software Version: The DCPMM management software version</p>
</li>
<li>
<p>[Product Name] Driver Version: The vendor specific DCPMM driver version</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Version</dt>
<dd>
<p>The current version of the software component if found or an error if not.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the software version is incompatible, the version will be followed by
an error message indicating such. If DCPMMs are found with a
FIS implementation higher than supported by the SW version, this command
will print a warning.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_device_firmware"><a class="link" href="#_show_device_firmware">2.6.3. Show Device Firmware</a></h4>
<div class="sect4">
<h5 id="_name_24"><a class="link" href="#_name_24">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-firmware - Shows detailed information about the firmware</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_24"><a class="link" href="#_synopsis_24">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -firmware [TARGETS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_24"><a class="link" href="#_description_24">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows detailed information about the firmware on one or more DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_24"><a class="link" href="#_options_24">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-a</dt>
<dt class="hdlist1">-all</dt>
<dd>
<p>Shows all attributes.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-d (attributes)</dt>
<dt class="hdlist1">-display (attributes)</dt>
<dd>
<p>Filters the returned attributes by explicitly specifying a comma-separated
list of any of the attributes defined in the Return Data section.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The all and display options are exclusive and may not be used together.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_19"><a class="link" href="#_targets_19">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Restricts output to the firmware information for specific DCPMMs by supplying
one or more comma-separated DCPMM identifiers. The default is to display the
firmware information for all manageable DCPMMs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_24"><a class="link" href="#_examples_24">EXAMPLES</a></h5>
<div class="paragraph">
<p>Shows the firmware information for all DCPMMs in the server.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -dimm -firmware</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_17"><a class="link" href="#_limitations_17">LIMITATIONS</a></h5>
<div class="paragraph">
<p>The specified DCPMM(s) must be manageable by the host software.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_24"><a class="link" href="#_return_data_24">RETURN DATA</a></h5>
<div class="paragraph">
<p>The default behavior is to display a table with the default attributes listed
below; the options can be used to expand or restrict the output.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">DimmID</dt>
<dd>
<p>(Default) The DCPMM identifier</p>
</dd>
<dt class="hdlist1">ActiveFWVersion</dt>
<dd>
<p>(Default) The BCD-formatted revision of the active firmware in the format
PN.RN.SV.bbbb where:</p>
<div class="ulist">
<ul>
<li>
<p>PN = 2-digit product number</p>
</li>
<li>
<p>RN = 2-digit revision number</p>
</li>
<li>
<p>SV = 2-digit security version number</p>
</li>
<li>
<p>bbbb = 4-digit build version</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">StagedFWVersion</dt>
<dd>
<p>(Default) The BCD-formatted revision of the firmware staged for execution on
the next power cycle in the format PN.RN.SV.bbbb where:</p>
<div class="ulist">
<ul>
<li>
<p>PN = 2-digit product number</p>
</li>
<li>
<p>RN = 2-digit revision number</p>
</li>
<li>
<p>SV = 2-digit security version number</p>
</li>
<li>
<p>bbbb = 4-digit build version</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">FWUpdateStatus</dt>
<dd>
<p>The status of the last firmware update operation. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Unknown</p>
</li>
<li>
<p>Staged successfully</p>
</li>
<li>
<p>Update loaded successfully</p>
</li>
<li>
<p>Update failed to load, fell back to previous firmware</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">FWImageMaxSize</dt>
<dd>
<p>The maximum size of a firmware image</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_update_firmware"><a class="link" href="#_update_firmware">2.6.4. Update Firmware</a></h4>
<div class="sect4">
<h5 id="_name_25"><a class="link" href="#_name_25">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-update-firmware - Updates the firmware on one or more DCPMMs</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_25"><a class="link" href="#_synopsis_25">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl load [OPTIONS] -source (path) -dimm (DimmIds) [TARGETS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_25"><a class="link" href="#_description_25">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Updates the firmware on one or more DCPMMs. On the next power cycle, the
firmware will become active.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If Address Range Scrub (ARS) is in progress on any target DIMM,
an attempt will be made to abort ARS and the proceed with the firmware update.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
A reboot is required to activate the updated firmware image and is
recommended to ensure ARS runs to completion.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_options_25"><a class="link" href="#_options_25">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-x</dt>
<dt class="hdlist1">-examine</dt>
<dd>
<p>Verifies the target DIMM is compatible with and ready to receive the recovery
firmware image specified in the source option. Return the recovery firmware
image version.</p>
</dd>
<dt class="hdlist1">-f</dt>
<dt class="hdlist1">-force</dt>
<dd>
<p>Downgrading the firmware to an older version is a potentially destructive
operation which requires confirmation from the user for each DCPMM. This
option suppresses the confirmation when attempting to downgrade.</p>
</dd>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
<dt class="hdlist1">-recover</dt>
<dd>
<p>The recover option forces the firmware update to attempt using SMBus instead
of DDRT. This is necessary in case the DDRT link is not trained. This update
method will be much slower than using the DDRT interface.</p>
</dd>
<dt class="hdlist1">-recover FlashSPI</dt>
<dd>
<p>The FlashSPI option is a modifier that forces an update of the entire SPI
Flash. This requires a specific flash image that is intended as full SPI flash
update. This update method is only possible if existing SPI firmware images
are all corrupt and cannot be loaded by the DIMM&#8217;s ROM.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_20"><a class="link" href="#_targets_20">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Updates the firmware on specific DCPMMs by supplying one or more
comma-separated DCPMM identifiers. However, this is not recommended as it may
put the system in an undesirable state. The default is to update all
manageable DCPMMs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_25"><a class="link" href="#_examples_25">EXAMPLES</a></h5>
<div class="paragraph">
<p>Updates the firmware on all DCPMMs in the system to the image in sourcefile.pkg on
the next power cycle.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl load -source sourcefile.pkg -dimm</pre>
</div>
<div class="paragraph">
<p>Checks the firmware image in c:\sourcefile.pkg and retrieve the version.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl load -examine -source sourcefile.pkg -dimm</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_18"><a class="link" href="#_limitations_18">LIMITATIONS</a></h5>
<div class="paragraph">
<p>The specified DCPMM(s) must be manageable by the host software.</p>
</div>
<div class="paragraph">
<p>Firmware version (PN.RN.SV.bbbb) updates are supported as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The product number (PN) cannot be changed.</p>
</li>
<li>
<p>The revision number (RN) can be upgraded when PN is the same.</p>
</li>
<li>
<p>The security revision number (SV) can be upgraded when PN.RN is the same. In
some configurations it can also be downgraded when PN.RN is the same; use the
examine option to determine if the security revision number can be downgraded.</p>
</li>
<li>
<p>The build number (bbbb) can be upgraded or downgraded. However, if the firmware
API version in the firmware image is lower than is supported by the host software
and would make the DCPMM become unmanageable, the downgrade is not supported.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Once a firmware image is staged for execution, a power cycle is required
before another firmware image of the same type (production or debug) can be
staged for execution using this command.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_25"><a class="link" href="#_return_data_25">RETURN DATA</a></h5>
<div class="paragraph">
<p>When the examine option is provided, the firmware image is checked and the
version number and firmware type is provided. The firmware will either be
valid for the DCPMM, a downgrade or invalid meaning it cannot be used for that
DCPMM.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_13"><a class="link" href="#_sample_output_13">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">(file path): MM.mm.hh.bbbb
Load FW on DIMM (DimmID): (Valid|Downgrade) [(with
confirmation or the force option)]</pre>
</div>
<div class="paragraph">
<p>If the firmware is being downgraded and the force option is not provided, the user will
be prompted to confirm the downgrade for each DCPMM. Otherwise, for each DCPMM,
the CLI will indicate the status of the operation.</p>
</div>
<div class="verseblock">
<pre class="content">Downgrade firmware on DIMM (DimmID)? (y or [n]) Downgrade firmware
on DIMM (DimmID)? (y or [n])
&#8230;&#8203;</pre>
</div>
<div class="paragraph">
<p>If a failure occurs when updating multiple DCPMMs, the process will continue
attempting to update the remaining DCPMMs requested. The firmware will not
become active until the next power cycle. Use the command Section
<a href="#_show_device_firmware">Show Device Firmware</a> to view more detailed information about the active
and staged firmware.</p>
</div>
<div class="verseblock">
<pre class="content">Load FW on DIMM (DimmID): Success, a power cycle is required to
activate the FW.
Load FW on DIMM (DimmID): Success, a power cycle is required to
activate the FW.
&#8230;&#8203;
Load FW on DIMM (DimmID): Error (Code) - (Description)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_preferences"><a class="link" href="#_show_preferences">2.6.5. Show Preferences</a></h4>
<div class="sect4">
<h5 id="_name_26"><a class="link" href="#_name_26">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-preferences - Displays a list of the DCPMM software user preferences</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_26"><a class="link" href="#_synopsis_26">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -preferences</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_26"><a class="link" href="#_description_26">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Displays a list of the DCPMM software user preferences and their current values.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_26"><a class="link" href="#_options_26">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_26"><a class="link" href="#_examples_26">EXAMPLES</a></h5>
<div class="paragraph">
<p>Displays the current values for all the user preferences</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -preferences</pre>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_26"><a class="link" href="#_return_data_26">RETURN DATA</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">CLI_DEFAULT_DIMM_ID</dt>
<dd>
<p>The default display of DCPMM identifiers. One of:</p>
<div class="ulist">
<ul>
<li>
<p>UID: Use the DimmUID attribute as defined in the command Show Device.</p>
</li>
<li>
<p>HANDLE: Use the DimmHandle attribute as defined in the command Show Device.
This is the default.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">CLI_DEFAULT_SIZE</dt>
<dd>
<p>The default display of capacities in the CLI. One of:</p>
<div class="ulist">
<ul>
<li>
<p>AUTO: Automatically choose the best format for each capacity in binary
multiples of bytes (i.e., B, MiB, GiB or TiB). This is the default.</p>
</li>
<li>
<p>AUTO_10: AUTO_10: Automatically choose the best format for each capacity in
decimal multiples of bytes (i.e., B, MB, GB or TB).</p>
</li>
<li>
<p>B: Displays all capacities in bytes.</p>
</li>
<li>
<p>MB: Displays all capacities in megabytes.</p>
</li>
<li>
<p>MiB: Displays all capacities in mebibytes.</p>
</li>
<li>
<p>GB: Displays all capacities in gigabytes.</p>
</li>
<li>
<p>GiB: Displays all capacities in gibibytes.</p>
</li>
<li>
<p>TB: Displays all capacities in terabytes.</p>
</li>
<li>
<p>TiB: Displays all capacities in tebibytes.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">PERFORMANCE_MONITOR_ENABLED</dt>
<dd>
<p>Whether or not the monitor is periodically storing performance metrics for the
DCPMMs in the host server. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Disabled</p>
</li>
<li>
<p>1: Enabled. This is the default.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">PERFORMANCE_MONITOR_INTERVAL_MINUTES</dt>
<dd>
<p>The interval in minutes that the monitor is retrieving and storing performance
metrics (if enabled). The default value is 180 minutes.</p>
</dd>
<dt class="hdlist1">EVENT_MONITOR_ENABLED</dt>
<dd>
<p>Whether or not the monitor is periodically checking for DCPMM events. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Disabled</p>
</li>
<li>
<p>1: Enabled. This is the default.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">EVENT_MONITOR_INTERVAL_MINUTES</dt>
<dd>
<p>The interval in minutes that the monitor is checking for and storing DCPMM
events (if enabled). The default value is 1 minute.</p>
</dd>
<dt class="hdlist1">EVENT_LOG_MAX</dt>
<dd>
<p>The maximum number of events to keep in the management software. The default
value is 0, which indicates no limit.</p>
</dd>
<dt class="hdlist1">DBG_LOG_MAX</dt>
<dd>
<p>The maximum number of debug log entries to keep in the management software. The
default value is 0, which indicates no limit.</p>
</dd>
<dt class="hdlist1">APPDIRECT_SETTINGS</dt>
<dd>
<p>The interleave settings to use when creating App Direct capacity in the
format: (IMCSize_ChannelSize). The default is "RECOMMENDED" which uses the
BIOS recommended App Direct settings returned by the command Show System
Capabilities.</p>
</dd>
<dt class="hdlist1">APPDIRECT_GRANULARITY</dt>
<dd>
<p>The minimum App Direct granularity per DCPMM supported by the command Create
Memory Allocation Goal. One of:</p>
<div class="ulist">
<ul>
<li>
<p>RECOMMENDED: Use the recommended App Direct granularity of 32 GiB.</p>
</li>
<li>
<p>1: Allows 1 GiB App Direct granularity which may result in App Direct region
sizes that are not recommended.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">DBG_LOG_LEVEL</dt>
<dd>
<p>Whether debug logging is enabled in the DCPMM host software. These logs
pertain to the operation of the command-line tool only and do not reflect any
logging functionality of the DCPMM. One of:</p>
<div class="ulist">
<ul>
<li>
<p>0: Logging is disabled. This is the default.</p>
</li>
<li>
<p>1: Log Errors.</p>
</li>
<li>
<p>2: Log Warnings, Errors.</p>
</li>
<li>
<p>3: Log Informational, Warnings, Errors.</p>
</li>
<li>
<p>4: Log Verbose, Informational, Warnings, Errors.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_change_preferences"><a class="link" href="#_change_preferences">2.6.6. Change Preferences</a></h4>
<div class="sect4">
<h5 id="_name_27"><a class="link" href="#_name_27">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-change-preferences - Modifies one or more user preferences</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_27"><a class="link" href="#_synopsis_27">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl set [OPTIONS] -preferences [PROPERTIES]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_27"><a class="link" href="#_description_27">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Modifies one or more user preferences in the DCPMM software.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_27"><a class="link" href="#_options_27">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_properties_9"><a class="link" href="#_properties_9">PROPERTIES</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">CLI_DEFAULT_DIMM_ID</dt>
<dd>
<p>The default display of DCPMM identifiers. One of:</p>
<div class="ulist">
<ul>
<li>
<p>"UID": Use the DimmUID attribute as defined in the section
<strong><em>Show Device</em></strong>.</p>
</li>
<li>
<p>"HANDLE": Use the DimmHandle attribute as defined in section
<strong><em>Show Device</em></strong>. This is the default</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">CLI_DEFAULT_SIZE</dt>
<dd>
<p>The default display of capacities in the CLI. One of:</p>
<div class="ulist">
<ul>
<li>
<p>"AUTO": Automatically choose the best format for each capacity in binary
multiples of bytes (i.e., B, MiB, GiB or TiB). This is the default.</p>
</li>
<li>
<p>"AUTO_10": Automatically choose the best format for each capacity in decimal
multiples of bytes (i.e., B, MB, GB or TB).</p>
</li>
<li>
<p>"B": Displays all capacities in bytes.</p>
</li>
<li>
<p>"MB": Displays all capacities in megabytes.</p>
</li>
<li>
<p>"MiB": Displays all capacities in mebibytes.</p>
</li>
<li>
<p>"GB": Displays all capacities in gigabytes.</p>
</li>
<li>
<p>"GiB": Displays all capacities in gibibytes.</p>
</li>
<li>
<p>"TB": Displays all capacities in terabytes.</p>
</li>
<li>
<p>"TiB": Displays all capacities in tebibytes.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">APPDIRECT_SETTINGS</dt>
<dd>
<p>The interleave settings to use when creating App Direct capacity in the
format: <span class="underline">(IMCSize_ChannelSize)</span>. Must be one of the BIOS supported
App Direct settings returned by the command <strong><em>Show System Capabilities</em></strong>.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
ByOne is not a valid setting for this preference. The default is
"RECOMMENDED" which uses the BIOS recommended App Direct settings.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The same interleave settings are used for all the App Direct capacity in
the system. Therefore, if any App Direct capacity already exists, this
preference cannot be changed.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">APPDIRECT_GRANULARITY</dt>
<dd>
<p>The minimum App Direct granularity per DCPMM supported by the command
<strong><em>Create Memory Allocation Goal</em></strong>. One of:</p>
<div class="ulist">
<ul>
<li>
<p>"RECOMMENDED": Use the recommended App Direct granularity of 32 GiB.</p>
</li>
<li>
<p>"1": Allows 1 GiB App Direct granularity which may result in App Direct region
sizes that are not recommended.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_27"><a class="link" href="#_examples_27">EXAMPLES</a></h5>
<div class="paragraph">
<p>Use DimmUID as the default DCPMM identifier, and display all capacities in bytes.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl set -preferences CLI_DEFAULT_DIMM_ID=UID CLI_DEFAULT_SIZE=B</pre>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_27"><a class="link" href="#_return_data_27">RETURN DATA</a></h5>
<div class="paragraph">
<p>Returns the status of the operation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_14"><a class="link" href="#_sample_output_14">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Set (Property)=(Value): Success|Error (Code)-(Description)
&#8230;&#8203;</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_debug"><a class="link" href="#_debug">2.7. Debug</a></h3>
<div class="sect3">
<h4 id="_run_diagnostic"><a class="link" href="#_run_diagnostic">2.7.1. Run Diagnostic</a></h4>
<div class="sect4">
<h5 id="_name_28"><a class="link" href="#_name_28">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-run-diagnostic - Runs a diagnostic test</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_28"><a class="link" href="#_synopsis_28">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl start [OPTIONS] -diagnostic (Quick|Config|Security|FW) -dimm(DIMMIDs)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_28"><a class="link" href="#_description_28">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Runs a diagnostic test.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_28"><a class="link" href="#_options_28">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_21"><a class="link" href="#_targets_21">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-diagnostic (Quick|Config|Security|FW)</dt>
<dd>
<p>Run a specific test by supplying its name. By default all tests are run.
One of:</p>
<div class="ulist">
<ul>
<li>
<p>"Quick" - This test verifies that the DCPMM host mailbox is accessible and
that basic health indicators can be read and are currently reporting
acceptable values.</p>
</li>
<li>
<p>"Config" - This test verifies that the BIOS platform configuration matches
the installed hardware and the platform configuration conforms to best known
practices.</p>
</li>
<li>
<p>"Security" - This test verifies that all DCPMMs have a consistent security
state. It&#8217;s a best practice to enable security on all DCPMMs rather than
just some.</p>
</li>
<li>
<p>"FW" - This test verifies that all DCPMMs of a given model have consistent
FW installed and other FW modifiable attributes are set in accordance with
best practices.<br>
Note that the test does not have a means of verifying that
the installed FW is the optimal version for a given DCPMM model just that
it&#8217;s been consistently applied across the system.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">-dimm [(DimmIDS)]</dt>
<dd>
<p>Runs a diagnostic test on specific DCPMMs by optionally supplying one or more
comma-separated DCPMM identifiers. The default is to run the specified tests
on all manageable DCPMMs. Only valid for the Quick diagnostic test.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_28"><a class="link" href="#_examples_28">EXAMPLES</a></h5>
<div class="paragraph">
<p>Runs all diagnostics.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl start -diagnostic</pre>
</div>
<div class="paragraph">
<p>Runs the quick check diagnostic on DCPMM 0x0001</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl start -diagnostic Quick -dimm 0x0001</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_19"><a class="link" href="#_limitations_19">LIMITATIONS</a></h5>
<div class="paragraph">
<p>If a DCPMM is unmanageable, then Quick test will report the reason, while
Config, Security and FW tests will skip unmanageable DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_28"><a class="link" href="#_return_data_28">RETURN DATA</a></h5>
<div class="paragraph">
<p>Each diagnostic generates one or more log messages. A successful test generates a
single log message per DCPMM indicating that no errors were found. A failed test
might generate multiple log messages each highlighting a specific error with all
the relevant details. Each log contains the following information.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">TestName</dt>
<dd>
<p>The test name. One of:</p>
<div class="ulist">
<ul>
<li>
<p>"Quick"</p>
</li>
<li>
<p>"Config"</p>
</li>
<li>
<p>"Security"</p>
</li>
<li>
<p>"FW"</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">State</dt>
<dd>
<p>The severity of the error. One of:</p>
<div class="ulist">
<ul>
<li>
<p>"Ok"</p>
</li>
<li>
<p>"Warning"</p>
</li>
<li>
<p>"Failed"</p>
</li>
<li>
<p>"Aborted"</p>
<div class="literalblock">
<div class="content">
<pre>NOTE: State is promoted to the highest severity result from the test group.</pre>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Message</dt>
<dd>
<p>A free form textual description of the error.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_error_log"><a class="link" href="#_show_error_log">2.7.2. Show Error Log</a></h4>
<div class="sect4">
<h5 id="_name_29"><a class="link" href="#_name_29">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-error-log - Shows thermal or media errors on the specified DCPMMs</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_29"><a class="link" href="#_synopsis_29">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -error (Thermal|Media) [TARGETS] [PROPERTIES]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_29"><a class="link" href="#_description_29">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows thermal or media errors on the specified DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_29"><a class="link" href="#_options_29">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_22"><a class="link" href="#_targets_22">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Filter output to events on a specific DCPMM by supplying the dimm target and
one DCPMM identifier.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_properties_10"><a class="link" href="#_properties_10">PROPERTIES</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">SequenceNumber</dt>
<dd>
<p>Error log entries are stored with a sequence number starting with 1 and
rolling over back to 1 after 65535. Limit the error log entries returned by
providing a sequence number. Only errors with a sequence number equal to or
higher than provided will be returned. The default is 1.</p>
</dd>
<dt class="hdlist1">Level</dt>
<dd>
<p>Severity level of errors to be fetched. One of:</p>
<div class="ulist">
<ul>
<li>
<p>"High": High severity errors (Default)</p>
</li>
<li>
<p>"Low": Low severity errors</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Count</dt>
<dd>
<p>Max number of error entries to be fetched and printed.
The default is 8 for media errors and 16 for thermal errors.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_29"><a class="link" href="#_examples_29">EXAMPLES</a></h5>
<div class="paragraph">
<p>Show all high thermal error log entries</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -error Thermal Level=High</pre>
</div>
<div class="paragraph">
<p>Show all low media error log entries</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -error Thermal Level=High</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_20"><a class="link" href="#_limitations_20">LIMITATIONS</a></h5>
<div class="paragraph">
<p>To successfully execute this command, the specified DCPMM(s) must be manageable
by the host software.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_29"><a class="link" href="#_return_data_29">RETURN DATA</a></h5>
<div class="paragraph">
<p>Prints errors of the specified type for the specified DCPMMs. If no errors are found, the
following message will be printed:</p>
</div>
<div class="verseblock">
<pre class="content">No errors found on DIMM (DimmID)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_15"><a class="link" href="#_sample_output_15">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Thermal Error occurred on Dimm (DimmID):
System Timestamp : 1527273299
Temperature : 88C
Reported : 4 - Critical
Temperature Type : 0 - Media Temperature
Sequence Number : 1</pre>
</div>
<div class="verseblock">
<pre class="content">Media Error occurred on Dimm (DimmID):
System Timestamp : 1527266471
DPA : 0x000014c0
PDA : 0x00000600
Range : 4B
Error Type : 4 - Locked/Illegal Access
Error Flags : DPA Valid
Transaction Type : 11 - CSR Write
Sequence Number : 2</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dump_debug_log"><a class="link" href="#_dump_debug_log">2.7.3. Dump Debug Log</a></h4>
<div class="sect4">
<h5 id="_name_30"><a class="link" href="#_name_30">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-dump-debug-log - Dumps encoded firmware debug logs from specified
DCPMMs and optionally decodes to human readable text.</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_30"><a class="link" href="#_synopsis_30">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl dump [OPTIONS] -destination (file_prefix) [-dict (file)] -debug -dimm (DimmIDs) [PROPERTIES]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_30"><a class="link" href="#_description_30">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Dumps encoded firmware debug logs from specified DCPMMs and optionally
decodes to human readable text.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For any non-functional DCPMMs logs will be retreived via SMBus.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_options_30"><a class="link" href="#_options_30">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_target"><a class="link" href="#_target">TARGET</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-destination (file_prefix)</dt>
<dd>
<p>The command will create files that use the given filename as a prefix
and append the DCPMM UID, DCPMM handle, debug log source, and the appropriate
file type (.bin for encoded logs, .txt for decoded logs) onto the end.</p>
</dd>
</dl>
</div>
<div class="verseblock">
<pre class="content">file_prefix_Uid_Handle_logsource.[bin,txt]</pre>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-dict (path)</dt>
<dd>
<p>Optional file path to the dictionary file. If supplied, the command will
create both the binary debug log and a text file with decoded log data with
the file prefix specified by -destination.</p>
</dd>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Dumps the debug logs from the specified DCPMMs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_30"><a class="link" href="#_examples_30">EXAMPLES</a></h5>
<div class="paragraph">
<p>Dumps and decodes the debug log from DCPMM 0x0001 and 0x0011 using the
dictionary file.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl dump -destination file_prefix -dict nlog_dict.txt -debug -dimm 0x0001,0x0011</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_21"><a class="link" href="#_limitations_21">LIMITATIONS</a></h5>
<div class="paragraph">
<p>To successfully execute this command, the specified DCPMM(s) must be manageable
by the host software.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_30"><a class="link" href="#_return_data_30">RETURN DATA</a></h5>
<div class="paragraph">
<p>Dumps the encoded and optionally decoded contents of all 3 firmware debug log
sources for the specified DCPMMs. Output file names are generated based on the
-destination parameter above.</p>
</div>
</div>
<div class="sect4">
<h5 id="_sample_output_16"><a class="link" href="#_sample_output_16">SAMPLE OUTPUT</a></h5>
<div class="verseblock">
<pre class="content">Dumped media FW debug logs to file (file_prefix_8089-A1-1816-00000016_0x0001_media.bin)
Decoded 456 records to file (file_prefix_8089-A1-1816-00000016_0x0001_media.txt)
No spi FW debug logs found</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_acpi_tables"><a class="link" href="#_show_acpi_tables">2.7.4. Show ACPI Tables</a></h4>
<div class="sect4">
<h5 id="_name_31"><a class="link" href="#_name_31">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-acpi - Shows the system ACPI tables related to the DCPMMs</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_31"><a class="link" href="#_synopsis_31">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -system (NFIT|PCAT|PMTT)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_31"><a class="link" href="#_description_31">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows the system ACPI tables related to the DCPMMs in the system.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_31"><a class="link" href="#_options_31">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_23"><a class="link" href="#_targets_23">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-system (NFIT|PCAT|PMTT)</dt>
<dd>
<p>The system ACPI table(s) to display. By default both the NFIT and PCAT tables
are displayed. One of:</p>
<div class="ulist">
<ul>
<li>
<p>"NFIT" - The NVDIMM Firmware Interface Table</p>
</li>
<li>
<p>"PCAT" - The Platform Capabilities Table</p>
</li>
<li>
<p>"PMTT" - The Platform Memory Topology Table</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Refer to the ACPI specification for detailed information about the ACPI tables.</p>
</div>
</div>
<div class="sect4">
<h5 id="_examples_31"><a class="link" href="#_examples_31">EXAMPLES</a></h5>
<div class="paragraph">
<p>Show the ACPI NFIT</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -system NFIT</pre>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_31"><a class="link" href="#_return_data_31">RETURN DATA</a></h5>
<div class="paragraph">
<p>Returns the formatted data from the requested ACPI tables and their sub-tables. Refer
to the ACPI specification for detailed information about the format of the ACPI tables.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
All data is presented in ACPI little endian format.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_device_platform_configuration_data"><a class="link" href="#_show_device_platform_configuration_data">2.7.5. Show Device Platform Configuration Data</a></h4>
<div class="sect4">
<h5 id="_name_32"><a class="link" href="#_name_32">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-pcd - Shows the platform configuration data for one or more DCPMMs</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_32"><a class="link" href="#_synopsis_32">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -dimm (DimmIds) -pcd (Config|LSA)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_32"><a class="link" href="#_description_32">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows the platform configuration data for one or more DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_32"><a class="link" href="#_options_32">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_24"><a class="link" href="#_targets_24">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Restricts output to the platform configuration data on specific DCPMMs by
supplying one or more comma-separated DCPMM identifiers. The default is to
display the platform configuration data for all manageable DCPMMs.</p>
</dd>
<dt class="hdlist1">-pcd (Config|LSA)</dt>
<dd>
<p>Restricts output to a specific partition of the platform configuration data.
The default is to display both. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Config - Configuration management information</p>
</li>
<li>
<p>LSA - Namespace label storage area</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_32"><a class="link" href="#_examples_32">EXAMPLES</a></h5>
<div class="paragraph">
<p>Shows the configuration information from the platform configuration data for all
manageable DCPMMs.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -dimm -pcd</pre>
</div>
<div class="paragraph">
<p>Shows the configuration information from the platform configuration data for
DCPMM 0x1.</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -dimm -pcd Config</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_22"><a class="link" href="#_limitations_22">LIMITATIONS</a></h5>
<div class="paragraph">
<p>The specified DCPMM(s) must be manageable by the host software.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_32"><a class="link" href="#_return_data_32">RETURN DATA</a></h5>
<div class="paragraph">
<p>Returns the formatted data from the requested platform configuration data for
the specified DCPMMs for debugging and troubleshooting purposes.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_delete_device_platform_configuration_data"><a class="link" href="#_delete_device_platform_configuration_data">2.7.6. Delete Device Platform Configuration Data</a></h4>
<div class="sect4">
<h5 id="_name_33"><a class="link" href="#_name_33">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-delete-pcd - Clears select partition data from the PCD</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_33"><a class="link" href="#_synopsis_33">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl delete [OPTIONS] -dimm (DimmIds) -pcd (Config|LSA)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_33"><a class="link" href="#_description_33">DESCRIPTION</a></h5>
<div class="paragraph">
<p>When LSA is specified, the namespace label storage area partition in the platform configuration
data from one or more DCPMMs is cleared. This is a destructive operation which will clear
the entire namespace label storage area including all namespaces labels and the
namespace label index block in order to re-purpose the DCPMM(s) for use in a
different operating system. All data on any deleted namespace(s) becomes
inaccessible.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Deleting PCD LSA partition data removes any logical OS namespace mapping
to the persistent memory data, but does not explicitly delete or modify user
data found in persistent memory.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When Config is specified, the Current, Input, and Output Data Size and Start Offset values in
the Configuration header are set to zero, making those tables invalid.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When Config is specified, only PCD partition 1 is modified. If the platform is rebooted
prior to creating a new goal on any targeted DCPMMs, UEFI platform firmware will detect the
missing tables and, if possible, restore previous config using the PCD partition 0 tables.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This action can be useful when moving DCPMMs from one system to another, as goal creation
rules may restrict provisioning dimms with an existing configuration. Deleting the PCD can be
used as a way to prepare a DCPMM for provisioning with the create -goal or load -goal commands
by clearing existing configuration metadata. This allows the DCPMM to be provisioned in
isolation using the create-goal command with the -dimm option. Once the PCD has been deleted
a new goal should be created before rebooting.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<strong>This command may result in data loss. Data should be backed up
to other storage before executing this command. Because of data dependencies, other commands
may be affected until the system has been rebooted</strong>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_options_33"><a class="link" href="#_options_33">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-f</dt>
<dt class="hdlist1">-force</dt>
<dd>
<p>Deleting the PCD data is a destructive operation which
requires confirmation from the user for each DCPMM. This option suppresses the
confirmation.</p>
</dd>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_25"><a class="link" href="#_targets_25">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Deletes the PCD data on specific DCPMMs by supplying one
or more comma-separated DCPMM identifiers. The default is to delete the
PCD data for all manageable DCPMMs.</p>
</dd>
<dt class="hdlist1">-pcd (Config|LSA)</dt>
<dd>
<p>Restricts clearing select partition data in the platform
configuration data area.
The default is to clear both. One of:</p>
<div class="ulist">
<ul>
<li>
<p>Config - Configuration management information</p>
</li>
<li>
<p>LSA - Namespace label storage area</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_33"><a class="link" href="#_examples_33">EXAMPLES</a></h5>
<div class="paragraph">
<p>Clears the namespace label storage area from all manageable DCPMMs</p>
</div>
<div class="verseblock">
<pre class="content">delete -dimm -pcd LSA</pre>
</div>
<div class="paragraph">
<p>Clears the Cin, Cout, Ccur tables from all manageable DCPMMs</p>
</div>
<div class="verseblock">
<pre class="content">delete -dimm -pcd Config</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_23"><a class="link" href="#_limitations_23">LIMITATIONS</a></h5>
<div class="paragraph">
<p>The specified DCPMM(s) must be manageable by the host software, and if
data-at-rest security is enabled, the DCPMMs must be unlocked. Any existing
namespaces associated with the requested DCPMM(s) should be deleted before
running this command.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_33"><a class="link" href="#_return_data_33">RETURN DATA</a></h5>
<div class="paragraph">
<p>For each DCPMM, the CLI will indicate the status of the operation. If a failure occurs
when deleting the platform configuration data from multiple DCPMMs, the process will
continue deleting the remaining DCPMMs.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_show_smbios_tables"><a class="link" href="#_show_smbios_tables">2.7.7. Show SMBIOS Tables</a></h4>
<div class="sect4">
<h5 id="_name_34"><a class="link" href="#_name_34">NAME</a></h5>
<div class="paragraph">
<p>ipmctl-show-smbios - Shows the system SMBIOS tables related to the DCPMMs.</p>
</div>
</div>
<div class="sect4">
<h5 id="_synopsis_34"><a class="link" href="#_synopsis_34">SYNOPSIS</a></h5>
<div class="verseblock">
<pre class="content">ipmctl show [OPTIONS] -smbios (17|20) [TARGETS]</pre>
</div>
</div>
<div class="sect4">
<h5 id="_description_34"><a class="link" href="#_description_34">DESCRIPTION</a></h5>
<div class="paragraph">
<p>Shows the system SMBIOS tables related to the DCPMMs in the system.</p>
</div>
</div>
<div class="sect4">
<h5 id="_options_34"><a class="link" href="#_options_34">OPTIONS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-h</dt>
<dt class="hdlist1">-help</dt>
<dd>
<p>Displays help for the command.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_targets_26"><a class="link" href="#_targets_26">TARGETS</a></h5>
<div class="dlist">
<dl>
<dt class="hdlist1">-smbios (17|20)</dt>
<dd>
<p>The SMBIOS table to display. Limit to a specific table by supplying the table
type (from the SMBIOS specification). One of:</p>
<div class="ulist">
<ul>
<li>
<p>17 - Memory Device (Type 17)</p>
</li>
<li>
<p>20 - Memory Device Mapped Address (Type 20)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">-dimm (DimmIDs)</dt>
<dd>
<p>Restricts output to specific DIMMs by supplying the DIMM target and one or
more comma-separated DIMM identifiers. The default is to display all DIMMs.</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_examples_34"><a class="link" href="#_examples_34">EXAMPLES</a></h5>
<div class="paragraph">
<p>Show the type 17 SMBIOS table for all DCPMM</p>
</div>
<div class="verseblock">
<pre class="content">ipmctl show -smbios 17</pre>
</div>
</div>
<div class="sect4">
<h5 id="_limitations_24"><a class="link" href="#_limitations_24">LIMITATIONS</a></h5>
<div class="paragraph">
<p>Command available with debug driver only.</p>
</div>
</div>
<div class="sect4">
<h5 id="_return_data_34"><a class="link" href="#_return_data_34">RETURN DATA</a></h5>
<div class="paragraph">
<p>Dumps the contents of the SMBIOS tables for each DCPMM. Refer to the SMBIOS
specification Memory Device (Type 17) and Memory Device Mapped Address (Type 20)
sections for more information.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>